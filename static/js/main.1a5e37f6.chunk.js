(this["webpackJsonpinternships-2021"]=this["webpackJsonpinternships-2021"]||[]).push([[0],{49:function(e,t,r){},77:function(e,t,r){"use strict";r.r(t);var a,n=r(1),s=r.n(n),i=r(39),c=r.n(i),o=(r(49),r(3)),l=r(44),d=String(Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUPABASE_URL),b=String(Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUPABASE_TOKEN),u=Object(l.a)(d,b),j=u,m=r(0),x=s.a.createContext(null),h=s.a.createContext(null),O=null!==(a=j.auth.user())&&void 0!==a?a:null,v=function(){return Object(n.useContext)(x)},p=function(){return Object(n.useContext)(h)},f=function(e){var t,r,a=e.children,s=Object(n.useState)({id:null!==(t=null===O||void 0===O?void 0:O.id)&&void 0!==t?t:"",firstName:null!==(r=null===O||void 0===O?void 0:O.email)&&void 0!==r?r:"",lastName:""}),i=Object(o.a)(s,2),c=i[0],l=i[1];return Object(m.jsx)(x.Provider,{value:c,children:Object(m.jsx)(h.Provider,{value:function(e){l(e)},children:a})})},g=r(13),y=r(4),w=r(2),N=r.n(w),S=r(7),k=function(e){var t=e.id,r=e.title,a=e.authors,n=e.image,s=e.description,i=e.isbn,c=e.publishedDate,o=e.categories,l=v(),d=function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.from("books").insert({id:t,title:r,description:s,publishedDate:c,categories:o,isbn:i,imageLinks:[n],authors:a,votesAmount:Math.floor(1e3*Math.random())+1,avgRating:10*Math.random()+Math.random(),addedById:null===l||void 0===l?void 0:l.id,addedDate:new Date});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("button",{type:"button",className:"border-gray-400 text-gray-400 rounded-sm border-2 max-h-full ml-2 p-2 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-gray-100",onClick:d,children:"+ Dodaj ksi\u0105\u017ck\u0119 do magazynu"})},_=function(e){var t=e.id,r=e.title,a=e.authors,n=e.image,s=e.publishedDate,i=e.categories,c=e.description,o=e.isbn;return Object(m.jsxs)("div",{className:"flex flex-col sm:flex-row place-content-center max-w-full md:w-auto bg-gray-100 shadow-md p-3 m-3 mx-6",children:[Object(m.jsx)("img",{src:n,alt:"A book.",className:"transform hover:scale-110 cursor-pointer m-3 w-32 transition duration-400 ease-in-out hover:-translate-y-1"}),Object(m.jsxs)("div",{className:"ml-2 w-full",children:[Object(m.jsx)("span",{className:"break-words cursor-pointer transition duration-400 ease-in-out hover:text-gray-500",children:r}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"text-gray-400",children:null===a||void 0===a?void 0:a.join(" ")}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"text-gray-400",children:i})]}),Object(m.jsxs)("div",{children:["/internships-2021/admin/store"===window.location.pathname&&Object(m.jsx)(k,{id:t,title:r,authors:a,image:n,description:c,isbn:o,publishedDate:s,categories:i}),"/internships-2021/admin/store"!==window.location.pathname&&Object(m.jsx)("button",{type:"button",className:"border-gray-400 text-gray-400 rounded-sm border-2 max-h-full ml-2 p-2 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-gray-100",children:"Kup naszom ksionszke"})]})]})},C=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(S.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.from("books").select("\n      *\n    ");case 2:t=e.sent,r=t.data,t.error,null!==r&&a(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsx)("div",{children:r&&(null===r||void 0===r?void 0:r.map((function(e){return Object(m.jsx)(_,{id:e.id,title:e.title,image:e.imageLinks[0],isbn:e.isbn,authors:e.authors,publishedDate:e.publishedDate,categories:e.categories,description:e.description},e.id)})))})},E=r(24),T=function(){var e=p(),t=Object(n.useState)(!1),r=Object(o.a)(t,2),a=r[0],s=r[1],i=Object(E.a)({initialValues:{emailAdress:"",password:""},onSubmit:function(){var t=Object(S.a)(N.a.mark((function t(r){var n,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.auth.signIn({email:r.emailAdress,password:r.password});case 2:n=t.sent,i=n.user,n.error,s(!a),i&&e&&e({id:null===i||void 0===i?void 0:i.id,firstName:null===i||void 0===i?void 0:i.email,lastName:"unknown"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{onClick:function(){return s(!a)},className:"my-1 pl-4 pb-1 md:pb-0 text-gray-700 dark:text-gray-200 hover:text-indigo-500 dark:hover:text-indigo-400 md:mr-4 md:my-0 border-b md:border-b-0 md:border-l border-gray-400 w-full",children:"Sign In"}),a&&Object(m.jsx)("div",{className:"fixed left-0 top-0 pin z-50 overflow-auto bg-gray-400 bg-opacity-50 flex h-screen w-screen",children:Object(m.jsxs)("div",{className:"relative p-8 bg-white w-full max-w-md m-auto flex-col flex rounded-md shadow-xl",children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsx)("h1",{className:"font-bold",children:"Login"}),Object(m.jsx)("button",{type:"button",onClick:function(){return s(!a)},className:"border-red-400 text-red-400 rounded-sm border-2 max-h-full px-2 transition duration-500 hover:bg-red-400 hover:text-white",children:"X"})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsxs)("div",{className:"mr-1",children:[Object(m.jsx)("label",{htmlFor:"email-adress",className:"text-xs block",children:"Email adress:"}),Object(m.jsx)("input",{id:"emailAdress",name:"emailAdress",type:"email",placeholder:"Email-adress",onChange:i.handleChange,value:i.values.emailAdress,className:"p-1 placeholder-gray-400 text-gray-600 border outline-none mb-2"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"password",className:"text-xs block",children:"Password:"}),Object(m.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Password",onChange:i.handleChange,value:i.values.password,className:"p-1 placeholder-gray-400 text-gray-600 border outline-none mb-2"})]})]}),Object(m.jsx)("button",{type:"submit",className:"border-gray-400 text-gray-400 rounded-sm border-2 max-h-full p-1 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-white",children:"Sign In"})]})})]})})]})},D=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),r=t[0],a=t[1],s=Object(E.a)({initialValues:{emailAdress:"",password:"",firstName:"",lastName:""},onSubmit:function(){var e=Object(S.a)(N.a.mark((function e(t){var n,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.auth.signUp({email:t.emailAdress,password:t.password});case 2:if(n=e.sent,s=n.user,n.error,!s){e.next=8;break}return e.next=8,u.from("profiles").insert({id:s.id,firstName:t.firstName,lastName:t.lastName});case 8:a(!r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{onClick:function(){return a(!r)},className:"my-1 pl-4 pb-1 md:pb-0 text-gray-700 dark:text-gray-200 hover:text-indigo-500 dark:hover:text-indigo-400 md:mr-4 md:my-0 border-b md:border-b-0 md:border-l md:border-r border-gray-400 w-full",children:"Sign Up"}),r&&Object(m.jsx)("div",{className:"fixed left-0 top-0 pin z-50 overflow-auto bg-gray-600 bg-opacity-50 flex h-screen w-screen",children:Object(m.jsxs)("div",{className:"relative p-8 bg-white w-full max-w-md m-auto flex-col flex rounded-md shadow-xl",children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsx)("h1",{className:"font-bold",children:"Register"}),Object(m.jsx)("button",{type:"button",onClick:function(){return a(!r)},className:"border-red-400 text-red-400 rounded-sm border-2 max-h-full px-2 transition duration-500 hover:bg-red-400 hover:text-white",children:"X"})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"firstName",className:"text-xs block",children:"First Name:"}),Object(m.jsx)("input",{id:"firstName",name:"firstName",type:"text",placeholder:"First Name",onChange:s.handleChange,value:s.values.firstName,className:"p-1 placeholder-gray-400 text-gray-600 border outline-none mb-2"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"lastName",className:"text-xs block",children:"Last Name:"}),Object(m.jsx)("input",{id:"lastName",name:"lastName",type:"text",placeholder:"Last Name",onChange:s.handleChange,value:s.values.lastName,className:"p-1 placeholder-gray-400 text-gray-600 border outline-none"})]})]}),Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"email-adress",className:"text-xs block",children:"Email adress:"}),Object(m.jsx)("input",{id:"emailAdress",name:"emailAdress",type:"email",placeholder:"Email-adress",onChange:s.handleChange,value:s.values.emailAdress,className:"p-1 placeholder-gray-400 text-gray-600 border outline-none mb-2"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"password",className:"text-xs block",children:"Password:"}),Object(m.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Password",onChange:s.handleChange,value:s.values.password,className:"p-1 placeholder-gray-400 text-gray-600 border outline-none mb-2"})]})]}),Object(m.jsx)("button",{type:"submit",className:"border-gray-400 text-gray-400 rounded-sm border-2 max-h-full p-1 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-white",children:"Sign Up"})]})})]})})]})};var A=function(){var e=v(),t=p(),r=Object(n.useState)(!1),a=Object(o.a)(r,2),s=a[0],i=a[1];return Object(m.jsx)("nav",{className:"bg-white shadow dark:bg-gray-800",children:Object(m.jsxs)("div",{className:"container px-6 py-3 mx-auto md:flex md:justify-between md:items-center",children:[Object(m.jsxs)("div",{className:"flex items-center justify-between",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"text-xl font-bold text-gray-800 dark:text-white md:text-2xl hover:text-gray-700 dark:hover:text-gray-300",children:"Books"})}),Object(m.jsx)("button",{type:"button",className:"border-gray-400 text-gray-400 rounded-md border max-h-full px-1 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-white md:hidden",onClick:function(){return i(!s)},children:"\u2630"})]}),Object(m.jsx)("div",{className:!0===s?"block items-center md:flex":"hidden md:block items-center",children:Object(m.jsxs)("div",{className:"flex flex-col md:flex-row my-2 md:my-0 md:mx-6",children:[Object(m.jsx)(g.b,{to:"/",className:"my-1 py-1 md:py-0 pl-4 text-gray-700 dark:text-gray-200 hover:text-indigo-500 dark:hover:text-indigo-400 md:mr-4 md:my-0 border-b border-t md:border-t-0 md:border-b-0 md:border-l border-gray-400",children:"Home"}),null!==e&&e.id===Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID&&""!==e.firstName?Object(m.jsx)(g.b,{to:"/admin",className:"my-1 pl-4 pb-1 md:pb-0 text-gray-700 dark:text-gray-200 hover:text-indigo-500 dark:hover:text-indigo-400 md:mr-4 md:my-0 border-b md:border-b-0 md:border-l border-gray-400",children:"Admin"}):"",null!==e&&e.id!==Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID&&""!==e.firstName?Object(m.jsx)(g.b,{to:"/user",className:"my-1 pl-4 pb-1 md:pb-0 text-gray-700 dark:text-gray-200 hover:text-indigo-500 dark:hover:text-indigo-400 md:mr-4 md:my-0 border-b md:border-b-0 md:border-l border-gray-400",children:e.firstName}):"",null!==e&&""!==e.id&&""!==e.firstName?Object(m.jsx)("div",{onClick:function(){t&&t({id:"",firstName:"",lastName:""}),j.auth.signOut()},className:"my-1 pl-4 pb-1 md:pb-0 text-gray-700 dark:text-gray-200 hover:text-indigo-500 dark:hover:text-indigo-400 md:pr-4 md:mr-4 md:my-0 border-b md:border-b-0 md:border-l md:border-r border-gray-400",children:"Logout"}):Object(m.jsxs)("div",{className:"flex flex-col md:flex-row w-full",children:[Object(m.jsx)(T,{}),Object(m.jsx)(D,{})]})]})})]})})};var P=function(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!0),i=Object(o.a)(s,2),c=i[0],l=i[1];return Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsx)("div",{className:"inline z-40 ".concat(!0===c?"hidden":"fixed"),children:Object(m.jsx)("button",{type:"button",className:"border-gray-400 bg-white text-gray-400 rounded-md border max-h-full px-1 mt-2 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-white lg:hidden",onClick:function(){return l(!c)},children:"\u2b9c"})}),Object(m.jsx)("div",{className:"lg:block z-30 inset-0 flex-none h-full bg-opacity-25 w-full lg:h-auto\n      lg:overflow-y-visible lg:pt-0 lg:w-60 xl:w-72 shadow-sm dark:bg-gray-800 ".concat(!0===c?"hidden":""),children:Object(m.jsxs)("div",{className:"items-center justify-between overflow-y-auto scrolling-touch",children:[Object(m.jsx)("div",{className:"border-b border-gray-400 mx-4 my-5 pl-2 text-l font-bold",children:"Filters"}),Object(m.jsxs)("nav",{className:"mx-4 my-3",children:[Object(m.jsxs)("div",{className:"border-b border-gray-200 mx-1 pb-5 mt-5",children:[Object(m.jsx)("label",{htmlFor:"searchbar",className:"mr-2",children:"Search"}),Object(m.jsx)("input",{type:"text",placeholder:"Enter book name",id:"searchbar",className:"p-1 placeholder-gray-400 text-gray-600 border outline-none"})]}),Object(m.jsx)("div",{className:"border-b border-gray-200 mx-1 pl-4 pb-5 mt-5",children:Object(m.jsxs)("ul",{className:"list-disc",children:[Object(m.jsx)("li",{children:"Fiction"}),Object(m.jsx)("li",{children:"Literature of fact, journalism"}),Object(m.jsx)("li",{children:"Popular science literature"}),Object(m.jsx)("li",{children:"Children's literature"}),Object(m.jsx)("li",{children:"Comics"}),Object(m.jsx)("li",{children:"Poetry, drama satire"}),Object(m.jsx)("li",{children:"Other"})]})}),Object(m.jsxs)("div",{className:"border-b border-gray-200 mx-1 pl-4 pb-5 mt-5",children:[Object(m.jsx)("input",{type:"range",min:"0",max:"10",onChange:function(e){var t;a(Number(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value))}}),Object(m.jsx)("span",{className:"ml-2",id:"range",children:r})]})]})]})}),Object(m.jsx)("div",{className:"inline z-40 ".concat(!0===c?"fixed":"hidden"),children:Object(m.jsx)("button",{type:"button",className:"border-gray-400 bg-white text-gray-400 rounded-md border max-h-full px-1 mt-2 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-white lg:hidden",onClick:function(){return l(!c)},children:"\u2b9e"})})]})},R=function(e){var t=e.title,r=void 0===t?"":t,a=e.author,n=void 0===a?"":a,s=e.image,i=void 0===s?"":s;return Object(m.jsxs)("div",{className:"flex flex-col justify-center items-center text-center h-72 w-64 ",children:[Object(m.jsx)("img",{src:i,alt:r,className:"w-48 h-64 overflow-hidden"}),r,Object(m.jsx)("span",{className:"text-gray-500 text-sm",children:n})]})},I=function(e){var t,r,a,s,i=e.entryCount,c=e.entries,l=Object(n.useState)(0),d=Object(o.a)(l,2),b=d[0],u=d[1],j=Object(n.useState)(),x=Object(o.a)(j,2),h=x[0],O=x[1];function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=b+e;return u(t>=i?0:t<=-1?i-1:t)}return Object(n.useEffect)((function(){h&&clearTimeout(h);var e=setTimeout((function(){u(b===i-1?0:function(e){return e+1})}),2200);O(e)}),[b]),Object(m.jsx)("div",{className:"flex place-content-center mt-2",children:Object(m.jsxs)("div",{className:"flex flex-col items-center bg-gray-50 p-2 shadow",children:[Object(m.jsx)(R,{title:null===(t=c[b])||void 0===t?void 0:t.title,author:null===(r=c[b])||void 0===r||null===(a=r.authors)||void 0===a?void 0:a.join(" "),image:null===(s=c[b])||void 0===s?void 0:s.image}),Object(m.jsxs)("div",{className:"flex flex-row",children:[Object(m.jsx)("button",{className:"flex border shadow-xl text-black-50 p-2 transition-colors duration-200 hover:text-yellow-600",type:"button",onClick:function(){return v(-1)},children:"<<"}),Object(m.jsx)("div",{className:"w-80"}),Object(m.jsx)("button",{className:"flex border shadow-xl text-black-50 p-2 transition-colors duration-200 hover:text-yellow-600",type:"button",onClick:function(){return v(1)},children:">>"})]})]})})},F=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(S.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.from("books").select("\n      *\n    ");case 2:t=e.sent,r=t.data,t.error,a(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r?Object(m.jsx)(I,{entries:null===r||void 0===r?void 0:r.map((function(e){return{title:e.title,authors:e.authors,image:e.imageLinks[0]}})),entryCount:r.length}):Object(m.jsx)("p",{children:"Loading..."})},L=function(e){var t=e.urlBlank,r=e.urlFull,a=e.fillingPercent,n={clipPath:"polygon(0 0, ".concat(a,"% 0, ").concat(a,"% 100%, 0 100%)")};return Object(m.jsx)("div",{children:100===a?Object(m.jsx)("img",{src:r,alt:"Filled ranking icon"}):Object(m.jsxs)("div",{className:"grid grid-cols-1 grid-rows-1",children:[Object(m.jsx)("img",{src:r,style:n,alt:"Blank ranking icon",className:"col-start-1 col-end-2 row-start-1 row-end-2"}),Object(m.jsx)("img",{src:t,alt:"Blank ranking icon",className:"col-start-1 col-end-2 row-start-1 row-end-2"})]})})},K="".concat("/internships-2021","/star_border_black.svg"),H="".concat("/internships-2021","/star_black.svg"),W=function(e){for(var t=e.bare,r=e.votesAmount,a=[],n=e.avgRating/10*100,s=0;s<5;s++)a.push(Object(m.jsx)(L,{urlBlank:K,urlFull:H,fillingPercent:Math.floor(Math.max(0,Math.min(100,5*n)))})),n-=20;return Object(m.jsxs)("div",{className:"flex flex-wrap justify-center items-center flex-col",children:[Object(m.jsx)("div",{className:"flex",children:a}),!t&&Object(m.jsxs)("span",{className:"text-gray-600 text-xs mt-1",children:["Ilosc g\u0142os\xf3w: ",r]})]})},B=function(e){for(var t=e.items,r=[],a=0;a<t.length;a++)r.push(Object(m.jsxs)("div",{className:"flex flex-wrap flex-col md:flex-row justify-between border-b",children:[Object(m.jsx)("div",{className:"max-w-1/2 md:text-right p-2 mr-10 text-gray-500",children:t[a].key}),Object(m.jsx)("div",{className:"max-w-1/2 p-2",children:t[a].value})]}));return Object(m.jsx)("div",{children:r})},U=function(e){var t=e.tabs,r=e.defaultTab,a=Object(n.useState)(r),s=Object(o.a)(a,2),i=s[0],c=s[1];for(var l=[],d=function(e){l.push(Object(m.jsx)("button",{type:"button",className:"flex-initial p-4 cursor-pointer auto-rows-min border-r border-gray-300",onClick:function(){c(e)},children:t[e].title}))},b=0;b<t.length;b++)d(b);return Object(m.jsxs)("div",{className:"grid grid-rows-2 grid-cols-1 shadow-md border border-gray-400",style:{gridTemplateRows:"min-content auto"},children:[Object(m.jsx)("div",{className:"flex border-b border-gray-300",children:l}),Object(m.jsx)("div",{className:"p-1 md:p-4",children:t[i].content})]})},z=function(e){var t=e.book,r=Object(n.useState)([{key:"Rok wydania",value:t.publishedDate},{key:"ID",value:t.id},{key:"Tytul",value:t.title},{key:"ISBN",value:t.isbn},{key:"Autorzy",value:t.authors.join(" ")}]),a=Object(o.a)(r,1)[0],s=Object(n.useState)([{title:"Szczeg\xf3\u0142y",content:Object(m.jsx)("div",{className:"flex justify-center p-1 md:p-4",children:Object(m.jsx)(B,{items:a})})}]),i=Object(o.a)(s,1)[0];return Object(m.jsxs)("div",{className:"w-11/12 m-auto mt-8",children:[Object(m.jsxs)("div",{className:"md:w-11/12 m-auto flex flex-wrap flex-col md:flex-row items-start",children:[Object(m.jsx)("img",{src:t.imageLinks[0],alt:"ok",className:"m-auto md:w-1/3 max-h-56 object-scale-down"}),Object(m.jsxs)("div",{className:"lg:w-2/3 flex-col lg:flex-row flex flex-wrap",children:[Object(m.jsxs)("div",{className:"lg:w-6/12 flex flex-auto flex-col",children:[Object(m.jsx)("span",{className:"text-xl",children:t.title})," ",Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("div",{className:"w-1/2 text-gray-600",children:"Podtytu\u0142 here"}),Object(m.jsx)("div",{className:"w-1/2 text-right text-gray-600",children:t.authors})]}),Object(m.jsx)("div",{className:"mt-12 text-sm text-gray-700 text-justify",children:t.description})]}),Object(m.jsx)("div",{className:"lg:w-2/12 mt-4 lg:ml-4",children:Object(m.jsx)(W,{bare:!1,votesAmount:t.votesAmount,avgRating:t.avgRating})})]})]}),Object(m.jsx)("div",{className:"w-full md:w-2/3 mt-8 m-auto",children:Object(m.jsx)(U,{tabs:i,defaultTab:0})})]})},M=function(){var e=Object(y.g)(),t=Object(n.useState)(),r=Object(o.a)(t,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){(function(){var t=Object(S.a)(N.a.mark((function t(){var r,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.from("books").select("*").eq("id",e.id);case 2:r=t.sent,null!==(a=r.data)&&s(a[0]);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),a?Object(m.jsx)(z,{book:a}):Object(m.jsx)("span",{children:"simea"})};var V=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),r=t[0],a=t[1];return Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsx)("div",{className:"inline z-40 ".concat(!0===r?"hidden":"fixed"),children:Object(m.jsx)("button",{type:"button",className:"border-gray-400 bg-white text-gray-400 rounded-md border max-h-full px-1 mt-2 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-white lg:hidden",onClick:function(){return a(!r)},children:"\u2b9c"})}),Object(m.jsx)("div",{className:"lg:block z-30 inset-0 flex-none h-full bg-opacity-25 w-full lg:h-auto\n      lg:overflow-y-visible lg:pt-0 lg:w-60 xl:w-72 shadow-sm dark:bg-gray-800 ".concat(!0===r?"hidden":""),children:Object(m.jsxs)("div",{className:"items-center justify-between overflow-y-auto scrolling-touch",children:[Object(m.jsx)("div",{className:"border-b border-gray-400 mx-4 my-5 pl-2 text-l font-bold",children:"Magazine"}),Object(m.jsxs)("nav",{className:"mx-4 my-3",children:[Object(m.jsx)(g.b,{to:"/admin/owned",children:Object(m.jsx)("div",{className:"border-b border-gray-200 mx-1 pl-4 pb-5 mt-5",children:"Owned"})}),Object(m.jsx)(g.b,{to:"/admin/store",children:Object(m.jsx)("div",{className:"border-b border-gray-200 mx-1 pl-4 pb-5 mt-5",children:"Store"})})]})]})}),Object(m.jsx)("div",{className:"inline z-40 ".concat(!0===r?"fixed":"hidden"),children:Object(m.jsx)("button",{type:"button",className:"border-gray-400 bg-white text-gray-400 rounded-md border max-h-full px-1 mt-2 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-white lg:hidden",onClick:function(){return a(!r)},children:"\u2b9e"})})]})},q=r(43),J=r.n(q),X=function(e){var t=e.id,r=e.onBookDelete,a=function(){var e=Object(S.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.from("books").delete().match({id:t});case 2:a=e.sent,a.data,r();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("button",{type:"button",className:"border-gray-400 text-gray-400 rounded-sm border-2 max-h-full ml-2 p-2 transition duration-500 ease-in-out hover:bg-gray-400 hover:text-gray-100",onClick:a,children:"-Usu\u0144 ksi\u0105\u017ck\u0119 z magazynu"})},G=function(e){var t=e.id,r=e.title,a=e.authors,n=e.image,s=e.categories,i=e.onBookDelete;return Object(m.jsxs)("div",{className:"flex flex-col sm:flex-row place-content-center max-w-full md:w-auto bg-gray-100 shadow-md p-3 m-3 mx-6",children:[Object(m.jsx)("img",{src:n,alt:"A book.",className:"transform hover:scale-110 cursor-pointer m-3 w-32 transition duration-400 ease-in-out hover:-translate-y-1"}),Object(m.jsxs)("div",{className:"ml-2 w-full",children:[Object(m.jsx)("span",{className:"break-words cursor-pointer transition duration-400 ease-in-out hover:text-gray-500",children:r}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"text-gray-400",children:null===a||void 0===a?void 0:a.join(" ")}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"text-gray-400",children:s})]}),Object(m.jsx)("div",{children:Object(m.jsx)(X,{id:t,onBookDelete:i})})]})},Q=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(),i=Object(o.a)(s,2),c=i[0],l=i[1],d=Object(n.useState)(),b=Object(o.a)(d,2),u=b[0],x=b[1],h=function(){var e=Object(S.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.from("books").select("\n    *\n  ");case 2:t=e.sent,r=t.data,t.error,null!==r&&a(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(S.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!1),e.next=4,J.a.get("https://www.googleapis.com/books/v1/volumes?q=search+terms");case 4:t=e.sent,l(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()(),h()}),[]),Object(m.jsxs)("div",{children:["/internships-2021/admin/store"===window.location.pathname&&c&&(null===c||void 0===c?void 0:c.items.map((function(e){return Object(m.jsx)(_,{id:e.id,title:e.volumeInfo.title,description:e.volumeInfo.description,publishedDate:e.volumeInfo.publishedDate,image:e.volumeInfo.imageLinks.thumbnail,authors:e.volumeInfo.authors,categories:e.volumeInfo.categories,isbn:e.volumeInfo.industryIdentifiers[0].identifier},e.id)}))),u&&Object(m.jsx)("p",{className:"text-red-600",children:"There was an error while trying to fetch data!"}),"/internships-2021/admin/owned"===window.location.pathname&&r&&(null===r||void 0===r?void 0:r.map((function(e){return Object(m.jsx)(G,{id:e.id,title:e.title,image:e.imageLinks[0],isbn:e.isbn,authors:e.authors,publishedDate:e.publishedDate,categories:e.categories,description:e.description,onBookDelete:h},e.id)})))]})};var Y=function(){var e=v();return Object(m.jsx)("div",{className:"App h-full",children:Object(m.jsxs)(g.a,{basename:"/internships-2021",children:[Object(m.jsx)("header",{className:"App-header fixed w-full top-0 h-10 z-50",children:Object(m.jsx)(A,{})}),Object(m.jsxs)("div",{className:"container w-full h-screen max-w-8xl mx-auto flex mt-12 z-10",children:[(null===e||void 0===e?void 0:e.id)===Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID?Object(m.jsx)(V,{}):Object(m.jsx)(P,{}),Object(m.jsx)("div",{className:"min-w-0 w-full pl-5 pt-3 flex-auto lg:static lg:max-h-full lg:overflow-visible shadow-inner",children:Object(m.jsxs)(y.d,{children:[Object(m.jsx)(y.b,{path:"/internships-2021",exact:!0,children:Object(m.jsx)(y.a,{to:"/"})}),Object(m.jsxs)(y.b,{path:"/",exact:!0,children:[Object(m.jsx)(F,{}),Object(m.jsx)(C,{})]}),Object(m.jsx)(y.b,{path:"/user",exact:!0}),Object(m.jsx)(y.b,{path:"/admin",exact:!0,children:(null===e||void 0===e?void 0:e.id)===Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID?Object(m.jsx)("span",{children:"Witaj adminie"}):Object(m.jsx)(y.a,{to:"/"})}),Object(m.jsx)(y.b,{path:"/admin/store",exact:!0,children:(null===e||void 0===e?void 0:e.id)===Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID?Object(m.jsx)(Q,{}):Object(m.jsx)(y.a,{to:"/"})}),Object(m.jsx)(y.b,{path:"/admin/owned",exact:!0,children:(null===e||void 0===e?void 0:e.id)===Object({NODE_ENV:"production",PUBLIC_URL:"/internships-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ADMIN_ID?Object(m.jsx)(Q,{}):Object(m.jsx)(y.a,{to:"/"})}),Object(m.jsx)(y.b,{path:"/books-list",exact:!0,children:Object(m.jsx)(C,{})}),Object(m.jsx)(y.b,{path:"/book/:id",exact:!0,children:Object(m.jsx)(M,{})})]})})]})]})})};var Z=function(){return Object(m.jsx)(f,{children:Object(m.jsx)(Y,{})})},$=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,80)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),s(e),i(e)}))};c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(Z,{})}),document.getElementById("root")),$()}},[[77,1,2]]]);
//# sourceMappingURL=main.1a5e37f6.chunk.js.map