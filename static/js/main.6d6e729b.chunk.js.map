{"version":3,"sources":["utils/supabase.ts","utils/utils.ts","components/UserContext.tsx","components/SVGRatingIcon.tsx","components/Rating.tsx","components/BorrowBook.tsx","components/Book.tsx","components/Sidebar.tsx","components/Pagination.tsx","components/NoResults.tsx","views/BookListView.tsx","components/ModalDialog.tsx","components/LoginButton.tsx","components/UserDropdown.tsx","components/RegisterModal.tsx","components/RegisterButton.tsx","components/Navigation.tsx","components/SpecificationTable.tsx","components/Tablist.tsx","components/BookInfo.tsx","views/BookInfoView.tsx","components/DeleteBook.tsx","components/OwnedBook.tsx","views/BookListViewAdminOwned.tsx","components/UpdateBook.tsx","components/AddBook.tsx","components/StoreBook.tsx","views/BookListViewAdminStore.tsx","components/ReturnBook.tsx","components/BorrowedBook.tsx","views/BorrowedBooksView.tsx","components/PrivateRoute.tsx","components/NoMatch404.tsx","components/Avatar.tsx","components/userpage/ChangeAvatarComponent.tsx","components/userpage/EditUserComponent.tsx","views/UserpageView.tsx","components/homepage/HomepageGradientSection.tsx","components/homepage/HomepageSection.tsx","components/homepage/HomepageInfoSections.tsx","components/homepage/HomepageLandingPage.tsx","components/Slide.tsx","components/Slider.tsx","views/SliderDemo.tsx","components/homepage/HomepageSliderSection.tsx","views/HomepageView.tsx","components/AppRouter.tsx","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["supabaseUrl","String","process","supabaseKey","supabase","createClient","DefaultImageUrl","DefaultUserAvatarUrl","getBookImage","book","imageLinks","length","featuredImageId","warningToast","msg","id","toast","warn","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","infoToast","info","successToast","success","errorToast","error","UserContext","React","createContext","UserUpdateContext","loggedInUser","auth","user","getUserInfo","uid","a","from","select","eq","data","isAdmin","isLoggedIn","useUser","useContext","useUserUpdate","getUserAvatarURL","storage","createSignedUrl","signedURL","UserProvider","children","useState","setUser","then","response","userInfo","createdAt","email","firstName","lastName","Provider","value","newUser","SVGRatingIcon","urlBlank","urlFull","fillingPercent","fullIconStyle","clipPath","className","src","alt","style","RatingIconURL","RatingIconFilledURL","Rating","bare","votesAmount","avgRating","icons","scoreRemaining","i","push","Math","floor","max","min","round","BorrowBook","bookId","profileId","date","returnDate","quantity","AddOrNotify","match","insert","update","type","onClick","Book","to","title","authors","join","categories","description","Date","setMonth","getMonth","filterType","getFilterType","setFilterType","Sidebar","setValue","query","setQuery","toggle","setToggled","history","useHistory","htmlFor","placeholder","onChange","event","target","name","defaultChecked","defaultValue","Number","replace","Pagination","count","currentPage","pageSize","onPageChange","pageCount","ceil","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","containerClassName","pageClassName","pageLinkClassName","breakClassName","breakLinkClassName","activeClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","NoResults","checkAuthors","matched","forEach","author","toLowerCase","includes","BookListView","setData","numberOfBooks","setNumberOfBooks","params","useParams","startIndex","setStartIndex","endIndex","setEndIndex","useEffect","getNumberOfBooks","q","ilike","gte","rating","range","books","x","filter","getAllBooks","map","selectedPage","selected","ModalDialog","okButtonLabel","onVisibilityChange","onOkButtonClick","LoginButton","loginModalShown","setLoginModalShown","formikLogin","useFormik","initialValues","emailAdress","password","onSubmit","values","signIn","message","checkEmail","submitForm","handleSubmit","handleChange","onBlur","UserDropdown","items","logOut","open","setOpen","item","link","label","RegisterModal","onSuccess","formikRegister","signUp","resp","status","statusText","RegisterButton","modalVisibility","setModalVisibility","Navigation","setItems","signOut","SpecificationTable","tableRows","key","Tablist","tabs","defaultTab","currTabID","setCurrTabID","tabTitleElements","gridTemplateRows","content","BookInfo","publishedDate","isbn","specsTabList","tabList","window","scrollTo","enlarged","setEnlarged","BookInfoPage","setBook","DeleteBook","onBookDelete","modal","setModal","Delete","delete","OwnedBook","image","borrowedQuantity","setBorrowedQuantity","getBorrowedQuantity","BookListViewAdmin","dataSupabase","setDataSupabase","UpdateBook","onQuantityUpdate","Update","AddBook","globalUser","err","setErr","addToStore","random","addedById","addedDate","StoreBook","quantityInput","setQuantityInput","setQuantity","bookData","getBookData","BookListViewAdminStore","dataAPI","setDataAPI","setFilter","index","setIndex","formikFilter","axios","get","res","fetchData","volumeInfo","thumbnail","industryIdentifiers","identifier","totalItems","ReturnBook","onBookReturn","Return","BorrowedBook","BorrowedBooksView","setInfo","getBorrowedBooks","useCallback","AdminRoute","path","exact","UserRoute","NoMatch404","location","useLocation","pathname","Avatar","url","EditUserComponent","onAvatarChange","usr","useRef","fileInput","avatarLink","setAvatarLink","onAvatarChangeWrapper","avatarUrl","upload","f","FileType","arrayBuffer","fromBuffer","mime","remove","catch","JSON","stringify","accept","current","files","ref","required","ChangeAvatarComponent","UserpageView","styleBg","backgroundImage","HomepageGradientSection","registerModalShown","setRegisterModalShown","HomepageSection","rightAligned","HomepageInfoSections","bgStyle","HomepageLandingPage","Slide","substr","trim","Slider","entryCount","entries","timer","setTimer","clearTimeout","newTimer","setTimeout","old","changeSlide","dir","newIndex","SliderDemo","order","ascending","HomepageSliderSection","HomepageView","AppRouter","basename","BookListViewAdminOwned","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","position","transition","newestOnTop","rtl","pauseOnFocusLoss","document","getElementById"],"mappings":"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","file":"static/js/main.6d6e729b.chunk.js","sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = String(process.env.REACT_APP_SUPABASE_URL);\nconst supabaseKey = String(process.env.REACT_APP_SUPABASE_TOKEN);\nexport const supabase = createClient(supabaseUrl, supabaseKey);\n\n// REACT_APP_SUPABASE_URL=xxx REACT_APP_SUPABASE_TOKEN=xxx npm run start\n\nexport default supabase;\n","import { toast } from 'react-toastify';\nimport { IBook } from '../interfaces/IBook.interface';\n\nconst DefaultImageUrl = `${process.env.PUBLIC_URL}/image-not-found.png`;\n\nexport const DefaultUserAvatarUrl = `${process.env.PUBLIC_URL}/defaultAvatar.png`;\n\nexport const getBookImage = (book: IBook): string => {\n  if (book?.imageLinks?.length <= book.featuredImageId) return DefaultImageUrl;\n  return book.imageLinks[book.featuredImageId];\n};\n\nexport const warningToast = (msg: string, id: string) => {\n  toast.warn(msg, {\n    toastId: id,\n    autoClose: 6000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: false,\n    progress: undefined,\n  });\n};\n\nexport const infoToast = (msg: string, id: string) => {\n  toast.info(msg, {\n    toastId: id,\n    autoClose: 6000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: false,\n    progress: undefined,\n  });\n};\n\nexport const successToast = (msg: string, id: string) => {\n  toast.success(msg, {\n    toastId: id,\n    autoClose: 6000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: false,\n    progress: undefined,\n  });\n};\n\nexport const errorToast = (msg: string, id: string) => {\n  toast.error(msg, {\n    toastId: id,\n    autoClose: 6000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: false,\n    progress: undefined,\n  });\n};\n","import React, { FC, useContext, useState } from 'react';\nimport { IProfile } from '../interfaces/IProfile.interface';\nimport supabase from '../utils/supabase';\nimport { DefaultUserAvatarUrl } from '../utils/utils';\n\nconst UserContext = React.createContext<IProfile | null>(null);\nconst UserUpdateContext = React.createContext<((newUser: IProfile) => void) | null>(null);\nlet loggedInUser = supabase.auth.user() ?? null;\n\nexport const getUserInfo = async (uid: string) => {\n  if (!uid) {\n    return null;\n  }\n  const { data } = await supabase\n    .from<IProfile>('profiles')\n    .select(`\n      *\n    `).eq('id', uid ?? '');\n  return data;\n};\n\nexport const isAdmin = (user: IProfile | null) => {\n  return user?.isAdmin;\n};\n\nexport const isLoggedIn = () => {\n  return supabase.auth.user();\n};\n\nexport const useUser = () => {\n  return useContext(UserContext);\n};\n\nexport const useUserUpdate = () => {\n  return useContext(UserUpdateContext);\n};\n\nexport const getUserAvatarURL = async () => {\n  if (!loggedInUser) {\n    return DefaultUserAvatarUrl;\n  }\n  const { signedURL } = await supabase\n    .storage\n    .from('images/avatars')\n    .createSignedUrl(`${loggedInUser?.id}`, 43200);\n  return signedURL ?? DefaultUserAvatarUrl;\n};\n\nexport const UserProvider: FC = ({ children }) => {\n  const [user, setUser] = useState<IProfile | null>(null);\n  loggedInUser = supabase.auth.user();\n\n  if (!user) {\n    getUserInfo(loggedInUser?.id ?? '').then((response) => {\n      const userInfo = response?.[0];\n      setUser({\n        createdAt: userInfo?.createdAt ?? '',\n        email: userInfo?.email ?? '',\n        firstName: userInfo?.firstName ?? '',\n        id: userInfo?.id ?? '',\n        isAdmin: userInfo?.isAdmin ?? false,\n        lastName: userInfo?.lastName ?? '',\n      });\n    });\n  }\n\n  const toggleUser = (newUser: IProfile) => {\n    setUser(newUser);\n  };\n\n  return (\n    <UserContext.Provider value={user}>\n      <UserUpdateContext.Provider value={toggleUser}>\n        {children}\n      </UserUpdateContext.Provider>\n    </UserContext.Provider>\n  );\n};\n","import React, { FC } from 'react';\n\ninterface SVGRatingIconProps {\n  urlFull: string\n  urlBlank: string\n  fillingPercent: number\n}\n\nconst SVGRatingIcon: FC<SVGRatingIconProps> = ({ urlBlank, urlFull, fillingPercent }) => {\n  const fullIconStyle = {\n    clipPath: `polygon(0 0, ${fillingPercent}% 0, ${fillingPercent}% 100%, 0 100%)`,\n  };\n\n  return (\n    <div className=\"w-full h-full\">\n      {fillingPercent === 100 ? <img src={urlFull} alt=\"Filled ranking icon\" className=\"w-full h-full\" /> : (\n        <div className=\"grid grid-cols-1 grid-rows-1 w-full h-full\">\n          {fillingPercent !== 0\n          && (\n          <img\n            src={urlFull}\n            style={fullIconStyle}\n            alt=\"Blank ranking icon\"\n            className=\"col-start-1 col-end-2 row-start-1 row-end-2 w-full h-full\"\n          />\n)}\n          <img\n            src={urlBlank}\n            alt=\"Blank ranking icon\"\n            className=\"col-start-1 col-end-2 row-start-1 row-end-2 w-full h-full\"\n          />\n        </div>\n)}\n    </div>\n  );\n};\n\nexport default SVGRatingIcon;\n","import React, { FC } from 'react';\nimport SVGRatingIcon from './SVGRatingIcon';\n\nconst IconsAmount = 5;\nexport const MaxScoreFromAPI = 10;\nconst RatingIconURL = `${process.env.PUBLIC_URL}/star_border_black.svg`;\nconst RatingIconFilledURL = `${process.env.PUBLIC_URL}/star_black.svg`;\n\ninterface RatingProps {\n  bare: boolean\n  votesAmount: number | null\n  avgRating: number\n}\n\nconst Rating: FC<RatingProps> = ({ bare, votesAmount, avgRating }) => {\n  const icons = [];\n  const scorePerIcon = 100 / IconsAmount;\n\n  let scoreRemaining = (avgRating / MaxScoreFromAPI) * 100;\n  for (let i = 0; i < IconsAmount; i++) {\n    icons.push(<SVGRatingIcon\n      key={i}\n      urlBlank={RatingIconURL}\n      urlFull={RatingIconFilledURL}\n      fillingPercent={Math.floor(Math.max(0, Math.min(100, scoreRemaining * IconsAmount)))}\n    />);\n    scoreRemaining -= scorePerIcon;\n  }\n\n  return (\n    <div className=\"flex flex-wrap justify-center items-center flex-col\">\n      <div className=\"flex justify-between w-full h-full\">\n        {icons}\n      </div>\n      {!bare && <span className=\"text-gray-600 text-xs mt-1\">Number of votes: {votesAmount}</span>}\n      {!bare && <span className=\"text-gray-600 text-xs mt-1 mb-2\">Average rating: {Math.round(avgRating * 100) / 100}</span>}\n    </div>\n  );\n};\n\nexport default Rating;\n","import React, { FC } from 'react';\nimport supabase from '../utils/supabase';\nimport { IBookBorrow } from '../interfaces/IBookBorrow.interface';\nimport { IBook } from '../interfaces/IBook.interface';\nimport { errorToast, successToast, warningToast } from '../utils/utils';\n\ninterface IBookBorrowProps {\n  bookId: string;\n  profileId?: string;\n  date: Date;\n  returnDate: Date;\n  quantity: number;\n}\nconst BorrowBook: FC<IBookBorrowProps> = ({ bookId, profileId, date, returnDate, quantity }) => {\n  const AddOrNotify = async () => {\n    if (supabase.auth.user()) {\n      const { data } = await supabase.from<IBookBorrow>('borrowedBooks')\n        .select('id')\n        .match({ bookId, profileId });\n      if (!data?.length) {\n        if (quantity >= 0) {\n          await supabase.from<IBookBorrow>('borrowedBooks')\n            .insert({\n              bookId,\n              profileId,\n              date,\n              returnDate,\n            });\n            await supabase.from<IBook>('books')\n              .update({ quantity })\n              .match({ id: bookId });\n            successToast('Book borrowed successfully!', 'borrow-book-success');\n          } else {\n            errorToast('This book is not in stock right now', 'borrow-book-error');\n          }\n      } else {\n        errorToast('You have already borrowed this book', 'borrow-book-warning');\n      }\n    } else {\n      warningToast('You must be logged in to borrow a book!', 'borrow-book-warning');\n    }\n  };\n  return (\n    <div>\n      <button\n        type=\"button\"\n        className=\"btn-page\"\n        onClick={AddOrNotify}\n      >\n        Borrow a book\n      </button>\n    </div>\n  );\n};\n\nexport default BorrowBook;\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IBook } from '../interfaces/IBook.interface';\nimport { getBookImage } from '../utils/utils';\nimport Rating from './Rating';\nimport './Book.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport BorrowBook from './BorrowBook';\nimport { useUser } from './UserContext';\n\ninterface IBookProps {\n  book: IBook;\n}\n\nconst Book: FC<IBookProps> = ({\n  book,\n}) => {\n  const user = useUser();\n  return (\n    <div className=\"flex flex-col sm:flex-row place-content-center max-w-full md:w-auto bg-white shadow p-3 m-3 mx-6\">\n      <div className=\"m-3 flex justify-center\">\n        <Link to={`/book/${book.id}`}>\n          <img\n            src={getBookImage(book)}\n            alt={`${book.title ?? 'N/D'} cover.`}\n            className=\"transform hover:scale-110 cursor-pointer w-32\n            transition duration-400 ease-in-out hover:-translate-y-1\"\n          />\n        </Link>\n      </div>\n      <div className=\"ml-2 mb-4 md:mb-0 w-full\">\n        <span className=\"break-words cursor-pointer transition duration-400 ease-in-out hover:text-gray-500\">\n          <Link to={`/book/${book.id}`}>{book.title ?? 'N/D'}</Link>\n        </span>\n        <div className=\"text-gray-400 flex flex-col\">\n          <span>{book.authors?.join(' ') ?? 'N/D'}</span>\n          <span>{book.categories ?? 'N/D'}</span>\n          <div className=\"overflow-hidden max-h-20 book-desc\">{book.description ?? 'N/D'}</div>\n          <div className=\"flex h-4 mt-2\">\n            <Rating votesAmount={book.votesAmount} avgRating={book.avgRating} bare />\n          </div>\n        </div>\n      </div>\n      <div>\n        <BorrowBook\n          bookId={book.id}\n          profileId={user?.id}\n          date={new Date()}\n          returnDate={new Date(new Date().setMonth(new Date().getMonth() + 1))}\n          quantity={book.quantity ? book.quantity - 1 : -1}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Book;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { IBook } from '../interfaces/IBook.interface';\n\nlet filterType: keyof IBook = 'title';\nexport const getFilterType = () => {\n  return filterType;\n};\n\nconst setFilterType = (type: keyof IBook) => {\n  filterType = type;\n};\n\nconst Sidebar = () => {\n  const [value, setValue] = useState(0);\n  const [query, setQuery] = useState('*');\n  const handleSlideChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(Number(event?.target?.value));\n  };\n  const handleQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (String(event?.target?.value).length > 0) setQuery(String(event?.target?.value));\n    else setQuery('*');\n  };\n  const [toggle, setToggled] = useState(true);\n  const history = useHistory();\n\n  return (\n    <div className=\"flex justify-between \">\n      <div className={`bg-white inline z-40 ${toggle ? 'hidden' : 'fixed lg:static'}`}>\n        <button\n          type=\"button\"\n          className=\"btn-sidebar lg:hidden\"\n          onClick={() => setToggled(!toggle)}\n        >\n          ⮜\n        </button>\n      </div>\n      <div\n        className={`lg:block z-30 inset-0 flex-none min-h-screen h-full lg:h-auto bg-white ml-6 lg:mt-0 lg:ml-0 pb-10 lg:pt-0\n        w-72 shadow-sm dark:bg-gray-800 overflow-y-auto lg:overflow-y-visible ${toggle ? 'hidden' : 'fixed lg:static'}`}\n      >\n        <div className=\"items-center justify-between scrolling-touch fixed top-14 max-h-screen overflow-y-auto pb-8\">\n          <div className=\"border-b border-gray-400 mx-4 my-5 pl-2 text-l font-bold\">\n            Filters\n          </div>\n          <nav className=\"mx-4 my-3\">\n            <div className=\"flex-col border-b border-gray-200 mx-1 pb-5 mt-5\">\n              <label htmlFor=\"searchbar\" className=\"mr-2\">Search</label>\n              <input\n                type=\"text\"\n                placeholder=\"Enter book name\"\n                id=\"searchbar\"\n                className=\"input-alt\"\n                onChange={handleQueryChange}\n              />\n              <div className=\"flex justify-evenly mt-2\">\n                <input type=\"radio\" name=\"type\" id=\"title\" value=\"title\" onChange={() => setFilterType('title')} defaultChecked />\n                Filter by title\n                <input type=\"radio\" name=\"type\" id=\"author\" value=\"author\" onChange={() => setFilterType('authors')} />Filter by author\n              </div>\n            </div>\n            <div className=\"border-b border-gray-200 mx-1 pl-4 pb-5 mt-5\">\n              <ul className=\"list-disc\">\n                <li>Fiction</li>\n                <li>Literature of fact, journalism</li>\n                <li>Popular science literature</li>\n                <li>Children&apos;s literature</li>\n                <li>Comics</li>\n                <li>Poetry, drama satire</li>\n                <li>Other</li>\n              </ul>\n            </div>\n            <div className=\"border-b border-gray-200 mx-1 pl-4 pb-5 mt-5\">\n              <input type=\"range\" min=\"0\" max=\"10\" defaultValue=\"0\" onChange={handleSlideChange} />\n              <span className=\"ml-2\" id=\"range\">{value > 0 ? value : 'All'}</span>\n            </div>\n            <div className=\"flex border-b border-gray-200 mx-1 pl-4 pb-5 mt-5 place-content-center\">\n              <button\n                className=\"btn-page w-2/3\"\n                type=\"button\"\n                onClick={() => history.replace(`/books-list/${query}/${value}`)}\n              >\n                Filter\n              </button>\n            </div>\n          </nav>\n        </div>\n      </div>\n      <div className={`inline z-40 ${toggle ? 'fixed' : 'hidden'}`}>\n        <button\n          type=\"button\"\n          className=\"btn-sidebar lg:hidden\"\n          onClick={() => { setToggled(!toggle); }}\n        >\n          ⮞\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React, { FC } from 'react';\nimport ReactPaginate from 'react-paginate';\n\ninterface PaginationProps {\n  count: number;\n  currentPage: number;\n  pageSize: number;\n  onPageChange: (selectedPage: { selected: number }) => void;\n}\n\nconst Pagination: FC<PaginationProps> = ({ count, currentPage, pageSize, onPageChange }) => {\n  const pageCount = Math.ceil(count / pageSize);\n\n  return (\n    <ReactPaginate\n      // previousLabel={(\n      //   <>\n      //     <span aria-hidden=\"true\">‹</span>\n      //     <span className=\"sr-only\">Previous</span>\n      //   </>\n      // )}\n      // nextLabel={(\n      //   <>\n      //     <span aria-hidden=\"true\">›</span>\n      //     <span className=\"sr-only\">Next</span>\n      //   </>\n      // )}\n      // TODO make css classes for pagination\n      previousClassName=\"page-item\"\n      previousLinkClassName=\"page-link\"\n      nextClassName=\"page-item\"\n      nextLinkClassName=\"page-link\"\n      containerClassName=\"pagination\"\n      pageClassName=\"page-item\"\n      pageLinkClassName=\"page-link\"\n      breakClassName=\"page-item\"\n      breakLinkClassName=\"page-link\"\n      activeClassName=\"active\"\n      // TODO make css classes for pagination\n      pageRangeDisplayed={5}\n      marginPagesDisplayed={1}\n      pageCount={pageCount}\n      forcePage={currentPage}\n      onPageChange={onPageChange}\n    />\n  );\n};\n\nexport default Pagination;\n","import React from 'react';\n\nconst NoResults = () => {\n    return <div className=\"flex justify-center italic\">No results</div>;\n};\n\nexport default NoResults;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { IBook } from '../interfaces/IBook.interface';\nimport supabase from '../utils/supabase';\nimport Book from '../components/Book';\nimport Sidebar, { getFilterType } from '../components/Sidebar';\nimport Pagination from '../components/Pagination';\nimport NoResults from '../components/NoResults';\n\ninterface IParams {\n  q: string;\n  rating: string;\n}\n\nconst checkAuthors = (authors: string[], query: string) => {\n  let matched = false;\n  if (query === '*') return true;\n  authors?.forEach((author) => {\n    if (author.toLowerCase().includes(query.toLowerCase())) matched = true;\n  });\n  return matched;\n};\n\nconst BookListView = () => {\n  const [data, setData] = useState<IBook[] | null>([]);\n  const [numberOfBooks, setNumberOfBooks] = useState<number | null>(10);\n  const params: IParams = useParams();\n  const [startIndex, setStartIndex] = useState<number>(0);\n  const [endIndex, setEndIndex] = useState<number>(10);\n  const onPageChange = (selectedPage: { selected: number }) => {\n    setStartIndex(selectedPage.selected * 10);\n    setEndIndex((selectedPage.selected * 10) + 10);\n  };\n  useEffect(() => {\n    const getNumberOfBooks = async () => {\n      const { count } = await supabase\n      .from<IBook>('books')\n      .select('id', { count: 'exact' });\n      setNumberOfBooks(count);\n    };\n    if (params?.q?.length < 1) params.q = '*';\n    const getAllBooks = async () => {\n      const q = `%${params.q ? params.q : '*'}%`;\n      if (getFilterType() === 'title') {\n        const { data: books } = await supabase\n          .from<IBook>('books')\n          .select('*')\n          .ilike('title', q)\n          .gte('avgRating', params.rating)\n          .range(startIndex, endIndex);\n        setData(books);\n      } else if (getFilterType() === 'authors') {\n        const { data: books } = await supabase\n          .from<IBook>('books')\n          .select('*')\n          .gte('avgRating', params.rating)\n          .range(startIndex, endIndex);\n        const x = books?.filter((book) => checkAuthors(book?.authors, params.q)) ?? [];\n        setData(x);\n      }\n    };\n    getAllBooks();\n    getNumberOfBooks();\n  }, [params, startIndex, endIndex]);\n  return (\n    <div className=\"bg-gray-50\">\n      <div className=\"content-container\">\n        <Sidebar />\n        <div className=\"mt-3 w-full shadow-inner\">\n          {data && data?.map((book) => (\n            <Book key={book.id} book={book} />\n          ))}\n          {data && data?.length < 1 && <NoResults />}\n        </div>\n      </div>\n      <Pagination\n        count={numberOfBooks || 10}\n        pageSize={10}\n        currentPage={startIndex / 10}\n        onPageChange={onPageChange}\n      />\n    </div>\n  );\n};\n\nexport default BookListView;\n","import React, { FC } from 'react';\n\ninterface IModalDialogProps {\n  title: string;\n  okButtonLabel: string;\n  onVisibilityChange: () => void;\n  onOkButtonClick: () => void;\n}\n\nconst ModalDialog: FC<IModalDialogProps> = ({ title, okButtonLabel, onVisibilityChange, onOkButtonClick, children }) => {\n  return (\n    <div className=\"fixed left-0 top-0 pin z-50 overflow-auto bg-gray-400 bg-opacity-50 flex h-screen w-screen\">\n      <div className=\"relative p-8 bg-white w-full max-w-md m-auto flex-col flex rounded-md shadow-xl\">\n        <div className=\"flex justify-between\">\n          <h1 className=\"font-bold\">{title}</h1>\n          <button type=\"button\" onClick={() => onVisibilityChange()} className=\"btn-exit\">\n            X\n          </button>\n        </div>\n        <div>\n          {children}\n        </div>\n        <button type=\"submit\" className=\"btn-page mt-3\" onClick={() => onOkButtonClick()}>\n          {okButtonLabel}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ModalDialog;\n","import { useState } from 'react';\nimport { useFormik } from 'formik';\nimport { supabase } from '../utils/supabase';\nimport { useUserUpdate, getUserInfo } from './UserContext';\nimport ModalDialog from './ModalDialog';\nimport { IProfile } from '../interfaces/IProfile.interface';\nimport { errorToast, successToast, warningToast } from '../utils/utils';\n\nconst LoginButton = () => {\n  const setUser = useUserUpdate();\n  const [loginModalShown, setLoginModalShown] = useState(false);\n\n  const formikLogin = useFormik({\n    initialValues: {\n      emailAdress: '',\n      password: '',\n    },\n    onSubmit: async (values) => {\n      const { user, error } = await supabase.auth.signIn({\n        email: values.emailAdress,\n        password: values.password,\n      });\n      if (error) {\n        errorToast(`Failed to log-in. Error: ${error.message}`, 'login-error');\n        return;\n      }\n\n      if (user && setUser) {\n        // TODO: get the default avatar directly from the supabase avatar store\n        getUserInfo(user?.id).then(async (response) => {\n          const userInfo = response?.[0];\n          setUser({\n            createdAt: userInfo?.createdAt ?? '',\n            email: userInfo?.email ?? '',\n            firstName: userInfo?.firstName ?? '',\n            id: userInfo?.id ?? '',\n            isAdmin: userInfo?.isAdmin ?? false,\n            lastName: userInfo?.lastName ?? '',\n          });\n        });\n        setLoginModalShown(!loginModalShown);\n        successToast('Login successful', 'login-success');\n      }\n    },\n  });\n\n  const checkEmail = async () => {\n    const { data } = await supabase\n      .from<IProfile>('profiles')\n      .select('email')\n      .eq('email', formikLogin.values.emailAdress);\n    if (!data?.length) {\n      warningToast('There\\'s no user associated with this email', 'login-no-email');\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"btn-nav text-left relative\">\n        <button\n          type=\"button\"\n          onClick={() => setLoginModalShown(!loginModalShown)}\n        >\n          Sign In\n        </button>\n      </div>\n      {loginModalShown && (\n        <ModalDialog\n          title=\"Login\"\n          okButtonLabel=\"Sign In\"\n          onOkButtonClick={() => formikLogin.submitForm()}\n          onVisibilityChange={() => setLoginModalShown(!loginModalShown)}\n        >\n          <form onSubmit={formikLogin.handleSubmit}>\n            <div className=\"flex content-between\">\n              <div className=\"mr-1 flex-auto\">\n                <label htmlFor=\"email-adress\" className=\"text-xs block\">Email adress:</label>\n                <input\n                  id=\"emailAdress\"\n                  name=\"emailAdress\"\n                  type=\"email\"\n                  placeholder=\"Email-adress\"\n                  onChange={formikLogin.handleChange}\n                  onBlur={checkEmail}\n                  value={formikLogin.values.emailAdress}\n                  className=\"input-pri\"\n                />\n              </div>\n              <div className=\"flex flex-auto flex-col items-end\">\n                <div>\n                  <label htmlFor=\"password\" className=\"text-xs block\">Password:</label>\n                  <input\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    onChange={formikLogin.handleChange}\n                    value={formikLogin.values.password}\n                    className=\"input-pri\"\n                  />\n                </div>\n              </div>\n            </div>\n          </form>\n        </ModalDialog>\n      )}\n    </div>\n  );\n};\n\nexport default LoginButton;\n","import React, { FC, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\ninterface DropdownItem {\n  link: string;\n  label: string;\n}\n\ninterface UserDropdownProps {\n  title: string | undefined;\n  items: DropdownItem[];\n  logOut: () => void;\n}\n\nconst UserDropdown: FC<UserDropdownProps> = ({ title, items, logOut }) => {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <div className=\"relative btn-nav-end\">\n      <button\n        type=\"button\"\n        className=\"navbar-nav text-left relative\"\n        onClick={() => setOpen(!open)}\n      >\n        {title}\n      </button>\n\n      {open && (\n        <>\n          <div\n            className=\"hidden md:flex md:fixed left-0 top-0 pin z-40 overflow-auto bg-white bg-opacity-0 h-screen w-screen\"\n            onClick={() => setOpen(!open)}\n          >\n            &nbsp;\n          </div>\n          <div\n            className=\"dropdown block md:absolute top-0 left-0 w-auto overflow-hidden md:-translate-y-0 z-50 bg-gray-700\n          md:bg-gray-600 text-white border-none md:border border-gray-400 md:border-gray-800 rounded-sm\"\n          >\n            {items.map((item) => (\n              <div key={item.label} className=\"menu-item border-b border-gray-400 md:border-gray-700\">\n                <button type=\"button\">\n                  <Link\n                    to={`${item.link}`}\n                    className=\"cursor-pointer transition duration-400 ease-in-out hover:text-indigo-500\"\n                  >\n                    {item.label}\n                  </Link>\n                </button>\n              </div>\n            ))}\n\n            <div className=\"menu-item\">\n              <button\n                type=\"button\"\n                onClick={logOut}\n                className=\"cursor-pointer transition duration-400 ease-in-out hover:text-indigo-500\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n\n    </div>\n  );\n};\n\nexport default UserDropdown;\n","import React, { FC } from 'react';\nimport { useFormik } from 'formik';\nimport ModalDialog from './ModalDialog';\nimport { supabase } from '../utils/supabase';\nimport { IProfile } from '../interfaces/IProfile.interface';\nimport { errorToast, successToast, warningToast } from '../utils/utils';\n\ninterface IRegisterModalProps {\n  onVisibilityChange: () => void,\n  onSuccess: () => void,\n}\n\nconst RegisterModal: FC<IRegisterModalProps> = ({ onSuccess, onVisibilityChange }) => {\n  const formikRegister = useFormik({\n    initialValues: {\n      emailAdress: '',\n      password: '',\n      firstName: '',\n      lastName: '',\n    },\n\n    onSubmit: async (values) => {\n      const { user, error } = await supabase.auth.signUp({\n        email: values.emailAdress,\n        password: values.password,\n      });\n      if (!values.firstName || !values.lastName) {\n        errorToast('First Name and Last name are required fields', 'register-supabase-error');\n        return;\n      }\n      if (error) {\n        errorToast(error.message, 'register-supabase-error');\n        return;\n      }\n      if (user) {\n        await supabase.from<IProfile>('profiles').insert({\n          id: user.id,\n          firstName: values.firstName,\n          lastName: values.lastName,\n          email: values.emailAdress,\n        }).then((resp) => {\n          if (resp.status === 201) {\n            successToast('Registered successfully!', 'register-success');\n            onSuccess();\n          } else {\n            warningToast(resp.statusText, 'register-warning');\n          }\n        });\n        onVisibilityChange();\n      }\n    },\n  });\n\n  const checkEmail = async () => {\n    const { data } = await supabase\n      .from<IProfile>('profiles')\n      .select('email')\n      .eq('email', formikRegister.values.emailAdress);\n\n    if (data?.length) {\n      warningToast('A user with this email address has already been registered', 'register-email-used');\n    }\n  };\n\n  return (\n    <ModalDialog\n      title=\"Register\"\n      okButtonLabel=\"Sign Up\"\n      onOkButtonClick={() => formikRegister.submitForm()}\n      onVisibilityChange={() => onVisibilityChange()}\n    >\n      <form onSubmit={formikRegister.handleSubmit}>\n        <div className=\"flex justify-between\">\n          <div>\n            <label htmlFor=\"firstName\" className=\"text-xs block\">First Name:</label>\n            <input\n              id=\"firstName\"\n              name=\"firstName\"\n              type=\"text\"\n              placeholder=\"First Name\"\n              onChange={formikRegister.handleChange}\n              value={formikRegister.values.firstName}\n              className=\"input-pri\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"lastName\" className=\"text-xs block\">Last Name:</label>\n            <input\n              id=\"lastName\"\n              name=\"lastName\"\n              type=\"text\"\n              placeholder=\"Last Name\"\n              onChange={formikRegister.handleChange}\n              value={formikRegister.values.lastName}\n              className=\"input-pri\"\n            />\n          </div>\n        </div>\n        <div className=\"flex justify-between\">\n          <div>\n            <label htmlFor=\"email-adress\" className=\"text-xs block\">Email adress:</label>\n            <input\n              id=\"emailAdress\"\n              name=\"emailAdress\"\n              type=\"email\"\n              placeholder=\"Email-adress\"\n              onChange={formikRegister.handleChange}\n              onBlur={checkEmail}\n              value={formikRegister.values.emailAdress}\n              className=\"input-pri\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\" className=\"text-xs block\">Password:</label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={formikRegister.handleChange}\n              value={formikRegister.values.password}\n              className=\"input-pri\"\n            />\n          </div>\n        </div>\n      </form>\n    </ModalDialog>\n  );\n};\n\nexport default RegisterModal;\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport React, { useState } from 'react';\nimport RegisterModal from './RegisterModal';\n\nconst RegisterButton = () => {\n  const [modalVisibility, setModalVisibility] = useState(false);\n\n  return (\n    <div>\n      <div className=\"btn-nav-end text-left relative\">\n        <button\n          type=\"button\"\n          onClick={() => setModalVisibility(!modalVisibility)}\n        >Sign Up\n        </button>\n      </div>\n      {modalVisibility && <RegisterModal onSuccess={() => {}} onVisibilityChange={() => setModalVisibility(!modalVisibility)} />}\n    </div>\n  );\n};\n\nexport default RegisterButton;\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport LoginButton from './LoginButton';\nimport UserDropdown from './UserDropdown';\nimport RegisterButton from './RegisterButton';\nimport { isLoggedIn, useUser, useUserUpdate, isAdmin } from './UserContext';\nimport supabase from '../utils/supabase';\nimport { successToast } from '../utils/utils';\n\nconst Navigation = () => {\n  const user = useUser();\n  const setUser = useUserUpdate();\n  const [toggle, setToggled] = useState(false);\n  const history = useHistory();\n  const [items, setItems] = useState([{ link: '/user', label: 'User Profile' }, { link: '/user/books', label: 'User Books' }]);\n\n  useEffect(() => {\n    if (isAdmin(user)) {\n      setItems([{ link: '/user', label: 'User Profile' }, { link: '/user/books', label: 'User Books' },\n      { link: '/admin/owned', label: 'Owned' }, { link: '/admin/store', label: 'Store' }]);\n    } else {\n      setItems([{ link: '/user', label: 'User Profile' }, { link: '/user/books', label: 'User Books' }]);\n    }\n  }, [user]);\n\n  const logout = () => {\n    if (setUser) {\n      setUser({\n        createdAt: '',\n        email: '',\n        firstName: '',\n        id: '',\n        isAdmin: false,\n        lastName: '',\n      });\n    }\n    supabase.auth.signOut();\n    history.push('/');\n    successToast('Logged out successfully', 'logout-success');\n  };\n\n  return (\n    <nav className=\"bg-gray-700 shadow dark:bg-gray-800\">\n      <div className=\"container px-6 py-3 mx-auto md:flex md:justify-between md:items-center\">\n        <div className=\"flex items-center justify-between\">\n          <Link to=\"/\">\n            <div>\n              <span className=\"text-xl font-bold text-white dark:text-white md:text-2xl\">\n                Books\n              </span>\n            </div>\n          </Link>\n          <button\n            type=\"button\"\n            className=\"border-gray-400 text-gray-200 rounded-md border max-h-full px-1\n            transition duration-500 ease-in-out hover:bg-gray-200 hover:text-gray-700 md:hidden\"\n            onClick={() => setToggled(!toggle)}\n          >\n            ☰\n          </button>\n        </div>\n\n        <div className={toggle ? 'block items-center md:flex' : 'hidden md:block items-center'}>\n          <div className=\"flex flex-col md:flex-row my-2 md:my-0 md:mx-6\">\n            <button\n              type=\"button\"\n              className=\"btn-nav text-left relative\"\n            >\n              <Link\n                to=\"/\"\n              >\n                Home\n              </Link>\n            </button>\n\n            <button\n              type=\"button\"\n              className=\"btn-nav text-left relative\"\n            >\n              <Link\n                to=\"/books-list\"\n              >\n                Book List\n              </Link>\n            </button>\n\n            {isLoggedIn() ? (\n              <UserDropdown\n                title={user?.email}\n                items={items}\n                logOut={logout}\n              />\n            ) : (\n              <>\n                <LoginButton />\n                <RegisterButton />\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React, { FC } from 'react';\n\ninterface ISpecsTableProps {\n  items: ISpecsItem[]\n}\n\ninterface ISpecsItem {\n  key: string\n  value: string\n}\n\nconst SpecificationTable: FC<ISpecsTableProps> = ({ items }) => {\n  const tableRows = [];\n  for (let i = 0; i < items.length; i++) {\n      tableRows.push(\n        <div key={i} className=\"flex flex-wrap flex-col md:flex-row justify-between border-b\">\n          <div className=\"max-w-1/2 md:text-right p-2 mr-10 text-gray-500\">{items[i].key}</div>\n          <div className=\"max-w-1/2 p-2\">{items[i].value}</div>\n        </div>\n);\n  }\n  return (\n    <div className=\"w-full\">\n      {tableRows}\n    </div>\n  );\n};\n\nexport default SpecificationTable;\n","import { FC, useState } from 'react';\nimport { ITab } from '../interfaces/ITab.interface';\n\ninterface ITablistProps {\n  tabs: ITab[],\n  defaultTab: number\n}\n\nconst Tablist: FC<ITablistProps> = ({ tabs, defaultTab }) => {\n  const [currTabID, setCurrTabID] = useState(defaultTab);\n\n  const tabChangeHandler = (newTabId: number) => {\n    setCurrTabID(newTabId);\n  };\n\n  const tabTitleElements = [];\n  for (let i = 0; i < tabs.length; i++) {\n    tabTitleElements.push(\n      <button\n        key={i}\n        type=\"button\"\n        // todo: if we will create more tabs, remove the 'cursor default' style\n        className={`${tabs.length > 1 ? 'cursor-pointer' : 'cursor-default'} flex-initial p-4 auto-rows-min border-r border-gray-300`}\n        onClick={() => tabChangeHandler(i)}\n      >\n        {tabs[i].title}\n      </button>\n    );\n  }\n\n  // todo: set the height of the tablist to the maximum height of a tab content\n  return (\n    <div\n      className=\"grid grid-rows-2 grid-cols-1 shadow-md border border-gray-400\"\n      style={{ gridTemplateRows: 'min-content auto' }}\n    >\n      <div className=\"flex border-b border-gray-300\">\n        {tabTitleElements}\n      </div>\n      <div className=\"p-1 md:p-4\">\n        {tabs[currTabID].content}\n      </div>\n    </div>\n  );\n};\n\nexport default Tablist;\n","import { useState, FC, useEffect } from 'react';\nimport { IBook } from '../interfaces/IBook.interface';\nimport { getBookImage } from '../utils/utils';\nimport BorrowBook from './BorrowBook';\nimport Rating from './Rating';\nimport SpecificationTable from './SpecificationTable';\nimport Tablist from './Tablist';\nimport { useUser } from './UserContext';\n\ninterface IBookInfoProps {\n  book: IBook\n}\n\nconst BookInfo: FC<IBookInfoProps> = ({ book }) => {\n  const [specsTabList] = useState([{\n    key: 'Published date',\n    value: book.publishedDate,\n  }, {\n    key: 'ID',\n    value: book.id,\n  }, {\n    key: 'Title',\n    value: book.title,\n  }, {\n    key: 'ISBN',\n    value: book.isbn,\n  }, {\n    key: 'Authors',\n    value: book.authors?.join(', '),\n  }, {\n    key: 'Categories',\n    value: book.categories?.join(', '),\n  }]);\n\n  const [tabList] = useState([{\n    title: 'Details',\n    content:\n      (\n        <div className=\"flex justify-center p-1 md:p-4\">\n          <SpecificationTable items={specsTabList} />\n        </div>\n      ),\n  }]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const [enlarged, setEnlarged] = useState(false);\n  const user = useUser();\n\n  return (\n    <div className=\"w-11/12 m-auto mt-8\">\n      <div className=\"md:w-11/12 m-auto flex flex-wrap flex-col md:flex-row items-start\">\n        <div className=\"m-auto flex flex-wrap flex-col items-start md:flex-row md:w-2/6\">\n          <img\n            onClick={() => setEnlarged(true)}\n            src={book.imageLinks[0]}\n            alt=\"A book.\"\n            className=\"m-auto md:w-1/3 max-h-56 object-scale-down\n            transform hover:scale-110 cursor-pointer w-32 pr-2\n            transition duration-400 ease-in-out hover:-translate-y-1\"\n          />\n        </div>\n        <div className=\"lg:w-2/3 flex-col lg:flex-row flex flex-wrap\">\n          <div className=\"lg:w-6/12 flex flex-auto flex-col\">\n            <span className=\"text-xl\">{book.title}</span> <br />\n            <div className=\"flex\">\n              <div className=\"w-1/2 text-gray-600\">{book.categories?.join(', ')}</div>\n              <div className=\"w-1/2 text-right text-gray-600\">{book.authors?.join(', ')}</div>\n            </div>\n            <div className=\"mt-12 text-sm text-gray-700 text-justify\">\n              {book.description}\n            </div>\n          </div>\n          <div className=\"lg:w-2/12 mt-4 lg:ml-4\">\n            <Rating bare={false} votesAmount={book.votesAmount} avgRating={book.avgRating} />\n            <BorrowBook\n              bookId={book.id}\n              profileId={user?.id}\n              date={new Date()}\n              returnDate={new Date(new Date().setMonth(new Date().getMonth() + 1))}\n              quantity={book.quantity ? book.quantity - 1 : -1}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"w-full md:w-2/3 mt-8 m-auto\">\n        <Tablist tabs={tabList} defaultTab={0} />\n      </div>\n      {enlarged && (\n        <div\n          className=\"fixed left-0 top-0 pin z-50 overflow-auto bg-gray-400 bg-opacity-50 flex h-screen w-screen\"\n          onClick={() => setEnlarged(false)}\n        >\n          <div className=\"relative m-auto flex-col flex rounded-md shadow-xl transform scale-150\">\n            <img src={getBookImage(book)} alt=\"A book.\" />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookInfo;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport BookInfo from '../components/BookInfo';\nimport Sidebar from '../components/Sidebar';\nimport { IBook } from '../interfaces/IBook.interface';\nimport supabase from '../utils/supabase';\n\ninterface BookInfoURLParams {\n  id: string\n}\n\nconst BookInfoPage = () => {\n  const params = useParams<BookInfoURLParams>();\n  const [book, setBook] = useState<IBook>();\n\n  useEffect(() => {\n    const getAllBooks = async () => {\n      const { data } = await supabase\n        .from<IBook>('books')\n        .select('*')\n        .eq('id', params.id);\n      if (data !== null) {\n        setBook(data[0]);\n      }\n    };\n    getAllBooks();\n  }, [params]);\n  return book ? (\n    <div className=\"content-container bg-white\">\n      <Sidebar />\n      <div className=\"mt-16 w-full\">\n        <BookInfo book={book} />\n      </div>\n    </div>\n) : <span>Book doesn&apos;t exist</span>;\n};\n\nexport default BookInfoPage;\n","import React, { FC, useState } from 'react';\nimport { supabase } from '../utils/supabase';\nimport { errorToast } from '../utils/utils';\n\ninterface IBookProps {\n  id?: string;\n  title?: string;\n  onBookDelete: () => void;\n}\nconst DeleteBook: FC<IBookProps> = ({ id, onBookDelete, title }) => {\n  const [modal, setModal] = useState(false);\n  const Delete = async () => {\n    const { error } = await supabase\n      .from('books')\n      .delete()\n      .match({ id });\n    if (error) errorToast('There was a problem with deleting this book!', 'delete-book-error');\n    onBookDelete();\n  };\n  return (\n    <div>\n      <button\n        type=\"button\"\n        className=\"btn-page\"\n        onClick={() => setModal(true)}\n      >\n        - Delete book\n      </button>\n      {modal && (\n        <div\n          className=\"fixed left-0 top-0 pin z-50 overflow-auto bg-gray-400 bg-opacity-50 flex h-screen w-screen\"\n          onClick={() => setModal(false)}\n        >\n          <div className=\"relative p-8 bg-white w-full max-w-md m-auto flex-col flex rounded-md shadow-xl\">\n            <p>Are you sure you want to delete this book from the stock: &quot;{title}&quot;?</p>\n            <button\n              type=\"button\"\n              className=\"btn-page\"\n              onClick={Delete}\n            >\n              - Delete book from stock\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DeleteBook;\n","import React, { FC, useEffect, useState } from 'react';\nimport { IBookBorrow } from '../interfaces/IBookBorrow.interface';\nimport supabase from '../utils/supabase';\nimport DeleteBook from './DeleteBook';\n\ninterface IBookProps {\n  id?: string;\n  title?: string;\n  description?: string;\n  publishedDate?: string;\n  image: string;\n  isbn: string;\n  authors?: string[];\n  categories?: string[];\n  quantity?: number;\n  onBookDelete: () => void;\n}\n\nconst OwnedBook: FC<IBookProps> = ({\n  id,\n  title,\n  authors,\n  image,\n  categories,\n  quantity,\n  onBookDelete,\n}) => {\n  const [borrowedQuantity, setBorrowedQuantity] = useState(0);\n\n  useEffect(() => {\n    const getBorrowedQuantity = async () => {\n      const { data } = await supabase\n        .from<IBookBorrow>('borrowedBooks')\n        .select('*')\n        .eq('bookId', id);\n      if (data !== null) {\n        setBorrowedQuantity(data.length);\n      }\n    };\n    getBorrowedQuantity();\n  }, [id]);\n  return (\n    <div className=\"flex flex-col sm:flex-row place-content-center max-w-full md:w-auto bg-gray-100 shadow-md p-3 m-3 mx-6\">\n      <img\n        src={image}\n        alt=\"A book.\"\n        className=\"m-3 w-32\"\n      />\n      <div className=\"ml-2 w-full flex flex-col\">\n        {title}\n        <span className=\"text-gray-400\">{authors?.join(' ')}</span>\n        <span className=\"text-gray-400\">{categories}</span>\n        <span className=\"text-gray-400\">Quantity of books in stock: {quantity}</span>\n        <span className=\"text-gray-400\">Quantity of borrowed books: {borrowedQuantity}</span>\n      </div>\n      <div>\n        <DeleteBook\n          id={id}\n          title={title}\n          onBookDelete={onBookDelete}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default OwnedBook;\n","import React, { useState, useEffect } from 'react';\nimport { IBook } from '../interfaces/IBook.interface';\nimport supabase from '../utils/supabase';\nimport OwnedBook from '../components/OwnedBook';\n\nconst BookListViewAdmin = () => {\n  const [dataSupabase, setDataSupabase] = useState<IBook[] | null>([]);\n  const getAllBooks = async () => {\n    const { data: books } = await supabase\n      .from<IBook>('books')\n      .select('*');\n    if (books !== null) {\n      setDataSupabase(books);\n    }\n  };\n  useEffect(() => {\n    getAllBooks();\n  }, []);\n  return (\n    <div className=\"container w-full h-full max-w-8xl mx-auto flex mt-3\">\n      <div className=\"min-w-0 w-full pt-3 flex-auto lg:static lg:max-h-full lg:overflow-visible shadow-inner\">\n        {dataSupabase && dataSupabase?.map((book) => (\n          <OwnedBook\n            key={book.id}\n            id={book.id}\n            title={book.title}\n            image={book.imageLinks[0]}\n            isbn={book.isbn}\n            authors={book.authors}\n            publishedDate={book.publishedDate}\n            categories={book.categories}\n            description={book.description}\n            quantity={book.quantity}\n            onBookDelete={getAllBooks}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default BookListViewAdmin;\n","import React, { FC } from 'react';\nimport { supabase } from '../utils/supabase';\nimport { IBook } from '../interfaces/IBook.interface';\n\ninterface IBookProps {\n  id?: string;\n  quantity?: number;\n  onQuantityUpdate: (quantity: number) => void;\n}\n\nconst UpdateBook: FC<IBookProps> = ({ id, quantity, onQuantityUpdate }) => {\n  const Update = async () => {\n    await supabase.from<IBook>('books')\n      .update({ quantity })\n      .match({ id });\n    onQuantityUpdate(quantity ?? 0);\n  };\n\n  return (\n    <div>\n      <button\n        type=\"button\"\n        className=\"btn-page\"\n        onClick={Update}\n      >\n        + Add books to the stock\n      </button>\n    </div>\n  );\n};\n\nexport default UpdateBook;\n","import React, { FC, useState } from 'react';\nimport { PostgrestError } from '@supabase/supabase-js';\nimport { supabase } from '../utils/supabase';\nimport { IBook } from '../interfaces/IBook.interface';\nimport { useUser } from './UserContext';\nimport { errorToast } from '../utils/utils';\n\ninterface IBookProps {\n  id?: string;\n  title?: string;\n  description?: string;\n  publishedDate?: string;\n  image: string;\n  isbn: string;\n  authors?: string[];\n  categories?: string[];\n  quantity: number;\n}\n\nconst AddBook: FC<IBookProps> = ({ id, title, authors, image, description, isbn, publishedDate, categories, quantity }) => {\n  const globalUser = useUser();\n  const [err, setErr] = useState<PostgrestError | null>();\n  const addToStore = async () => {\n    const { error } = await supabase\n      .from<IBook>('books')\n      .insert({\n        id,\n        title,\n        description,\n        publishedDate,\n        categories,\n        isbn,\n        imageLinks: [image],\n        authors,\n        votesAmount: Math.floor(Math.random() * 1000) + 1,\n        avgRating: Math.floor(Math.random() * 10) + 1,\n        addedById: globalUser?.id,\n        addedDate: new Date(),\n        quantity,\n      });\n    setErr(error);\n  };\n\n  return (\n    <div>\n      <button\n        type=\"button\"\n        className=\"btn-page\"\n        onClick={addToStore}\n      >\n        + Add books to the stock\n      </button>\n      {err && (\n        errorToast(err.message, 'adding-book-error')\n      )}\n    </div>\n  );\n};\n\nexport default AddBook;\n","import React, { FC, useState, useEffect } from 'react';\nimport UpdateBook from './UpdateBook';\nimport supabase from '../utils/supabase';\nimport AddBook from './AddBook';\nimport { warningToast } from '../utils/utils';\n\ninterface IBookProps {\n  id?: string;\n  title?: string;\n  description?: string;\n  publishedDate?: string;\n  image: string;\n  isbn: string;\n  authors?: string[];\n  categories?: string[];\n  quantity?: number;\n}\n\nconst StoreBook: FC<IBookProps> = ({\n  id,\n  title,\n  authors,\n  image,\n  publishedDate,\n  categories,\n  description,\n  isbn,\n}) => {\n  const [quantityInput, setQuantityInput] = useState('1');\n  const [quantity, setQuantity] = useState<number | null>(null);\n  const [data, setData] = useState<IBookProps[] | null>([]);\n\n  useEffect(() => {\n    const getBookData = async () => {\n      const { data: bookData } = await supabase\n        .from<IBookProps>('books')\n        .select(`\n      id, quantity\n    `).eq('id', id);\n      if (bookData !== null) {\n        setData(bookData);\n        setQuantity(bookData[0]?.quantity ?? 0);\n      }\n    };\n    getBookData();\n  }, [id]);\n\n  const incorrectQuantityHandler = (value: string) => {\n    if (value.includes('-')) {\n      return warningToast('You have tried to add negative value!', 'negative-value-m-warning');\n    }\n    if (value.includes(',')) {\n      return warningToast('You have tried to add float value!', 'negative-value-dot-warning');\n    }\n    if (value.includes('.')) {\n      return warningToast('You have tried to add float value!', 'negative-value-coma-warning');\n    }\n    return setQuantityInput(value);\n  };\n\n  return (\n    <div className=\"flex flex-col sm:flex-row place-content-center max-w-full md:w-auto bg-gray-100 shadow-md p-3 m-3 mx-6\">\n      <img\n        src={image}\n        alt=\"A book.\"\n        className=\"transform m-3 w-32\"\n      />\n      <div className=\"ml-2 w-full flex flex-col\">\n        {/* <span className=\"break-words cursor-pointer transition duration-400 ease-in-out hover:text-gray-500\">{title}</span> */}\n        {title}\n        <span className=\"text-gray-400\">{authors?.join(' ')}</span>\n        <span className=\"text-gray-400\">{categories}</span>\n      </div>\n      <div>\n        <p>Quantity:</p>\n        <input\n          id=\"quantity\"\n          name=\"quantity\"\n          type=\"number\"\n          onChange={(event) => incorrectQuantityHandler(event.target.value)}\n        />\n        {data?.length !== 0 && (\n          <div>\n            <div className=\"bg-red-500 text-white\">In a stock: {quantity} </div>\n            <UpdateBook\n              id={id}\n              quantity={Number(quantityInput) + (quantity ?? 0)}\n              onQuantityUpdate={(q) => setQuantity(q)}\n            />\n          </div>\n        )}\n        {data?.length === 0 && (\n          <AddBook\n            id={id}\n            title={title}\n            authors={authors}\n            image={image}\n            description={description}\n            isbn={isbn}\n            publishedDate={publishedDate}\n            categories={categories}\n            quantity={Number(quantityInput)}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StoreBook;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useFormik } from 'formik';\nimport { IGoogleBooksAPIVolumes } from '../interfaces/IGoogleBooksAPIVolumes.interface';\nimport StoreBook from '../components/StoreBook';\nimport { errorToast } from '../utils/utils';\nimport Pagination from '../components/Pagination';\n\nconst BookListViewAdminStore = () => {\n  const [dataAPI, setDataAPI] = useState<IGoogleBooksAPIVolumes>();\n  const [filter, setFilter] = useState('book');\n  const [index, setIndex] = useState(0);\n  const formikFilter = useFormik({\n    initialValues: {\n      filter: '',\n    },\n    onSubmit: (values) => {\n      setFilter(!values.filter ? 'book' : values.filter);\n    },\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`https://www.googleapis.com/books/v1/volumes?q=${filter}&startIndex=${index}`);\n        setDataAPI(res.data);\n      } catch (e) {\n        errorToast('There was a problem with fetching data!', 'API-error');\n      }\n    };\n    fetchData();\n  }, [filter, index]);\n  const onPageChange = (selectedPage: { selected: number }) => {\n    setIndex(selectedPage.selected * 10);\n  };\n  return (\n    <div className=\"container mx-auto mt-3 shadow-inner\">\n      <form onSubmit={formikFilter.handleSubmit}>\n        <input\n          id=\"filter\"\n          name=\"filter\"\n          type=\"text\"\n          placeholder=\"Search\"\n          onChange={formikFilter.handleChange}\n          className=\"input-pri mt-3 mx-6\"\n        />\n      </form>\n      <div>\n        {dataAPI && dataAPI?.items.map((book) => (\n          <StoreBook\n            key={book.id ?? 'N/D'}\n            id={book.id ?? 'N/D'}\n            title={book.volumeInfo.title ?? 'N/D'}\n            description={book.volumeInfo.description ?? 'N/D'}\n            publishedDate={book.volumeInfo.publishedDate ?? 'N/D'}\n            image={book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : `${process.env.PUBLIC_URL}/image-not-found.png`}\n            authors={book.volumeInfo.authors}\n            categories={book.volumeInfo.categories ?? ['N/D']}\n            isbn={(book.volumeInfo.industryIdentifiers ? book.volumeInfo.industryIdentifiers[0].identifier : 'N/D')}\n          />\n        ))}\n      </div>\n      <Pagination\n        count={dataAPI?.totalItems ? dataAPI.totalItems : 10}\n        pageSize={10}\n        currentPage={index / 10}\n        onPageChange={onPageChange}\n      />\n    </div>\n  );\n};\n\nexport default BookListViewAdminStore;\n","import React, { FC, useState } from 'react';\nimport { IBook } from '../interfaces/IBook.interface';\nimport { supabase } from '../utils/supabase';\nimport { errorToast } from '../utils/utils';\n\ninterface IBookReturnProps {\n  id?: string;\n  bookId: string;\n  quantity: number;\n  title: string;\n  onBookReturn: () => void;\n}\nconst ReturnBook: FC<IBookReturnProps> = ({ id, bookId, quantity, onBookReturn, title }) => {\n  const [modal, setModal] = useState(false);\n  const Return = async () => {\n    const { error } = await supabase\n      .from('borrowedBooks')\n      .delete()\n      .match({ id });\n    await supabase.from<IBook>('books')\n      .update({ quantity })\n      .match({ id: bookId });\n    if (error) errorToast('There was a problem with returning this book!', 'return-book-error');\n    onBookReturn();\n  };\n  return (\n    <div>\n      <button\n        type=\"button\"\n        className=\"btn-page mt-2\"\n        onClick={() => setModal(true)}\n      >\n        - Return Book\n      </button>\n      {modal && (\n        <div\n          className=\"fixed left-0 top-0 pin z-50 overflow-auto bg-gray-400 bg-opacity-50 flex h-screen w-screen\"\n          onClick={() => setModal(false)}\n        >\n          <div className=\"relative p-8 bg-white w-full max-w-md m-auto flex-col flex rounded-md shadow-xl\">\n            <p>Are you sure you want to return this book &quot;{title}&quot;?</p>\n            <button\n              type=\"button\"\n              className=\"btn-page\"\n              onClick={Return}\n            >\n              - Return Book\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ReturnBook;\n","import React, { FC } from 'react';\nimport { IBook } from '../interfaces/IBook.interface';\nimport { getBookImage } from '../utils/utils';\nimport Rating from './Rating';\nimport './Book.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ReturnBook from './ReturnBook';\n\ninterface IBookProps {\n  id: string;\n  book: IBook;\n  returnDate: Date;\n  date: Date;\n  onBookReturn: () => void;\n}\n\nconst BorrowedBook: FC<IBookProps> = ({\n  book,\n  returnDate,\n  date,\n  id,\n  onBookReturn,\n}) => {\n  return (\n    <div className=\"flex flex-col sm:flex-row place-content-center max-w-full md:w-auto bg-gray-50 shadow p-3 m-3 mx-6\">\n      <div className=\"m-3 flex justify-center flex-wrap flex-col\">\n        <div>\n          <img\n            src={getBookImage(book)}\n            alt={`${book.title ?? 'N/D'} cover.`}\n            className=\"w-32\"\n          />\n        </div>\n      </div>\n      <div className=\"ml-2 mb-4 md:mb-0 w-full\">\n        {book.title ?? 'N/D'}\n        <div className=\"text-gray-400 flex flex-col\">\n          <span>{book.authors?.join(' ') ?? 'N/D'}</span>\n          <span>{book.categories ?? 'N/D'}</span>\n          <div className=\"overflow-hidden max-h-20 book-desc\">{book.description ?? 'N/D'}</div>\n          <div className=\"flex h-4 mt-2\">\n            <Rating votesAmount={book.votesAmount} avgRating={book.avgRating} bare />\n          </div>\n        </div>\n        <ReturnBook\n          id={id}\n          bookId={book.id}\n          quantity={book.quantity + 1}\n          onBookReturn={onBookReturn}\n          title={book.title}\n        />\n        <p className=\"text-right\">Date: {date}</p>\n        <p className=\"text-right\">Return date: {returnDate}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default BorrowedBook;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport supabase from '../utils/supabase';\nimport { useUser } from '../components/UserContext';\nimport { IBook } from '../interfaces/IBook.interface';\nimport BorrowedBook from '../components/BorrowedBook';\nimport NoResults from '../components/NoResults';\n\ninterface IBookProfileId {\n  book: IBook;\n  id: string;\n  date: Date;\n  returnDate: Date;\n  profileId: string | undefined;\n}\nconst BorrowedBooksView = () => {\n  const [info, setInfo] = useState<null | IBookProfileId[]>([]);\n  const user = useUser();\n\n  const getBorrowedBooks = useCallback(async () => {\n    const { data } = await supabase\n      .from<IBookProfileId>('borrowedBooks')\n      .select('id, date, returnDate, book:books(*)')\n      .eq('profileId', user?.id);\n    if (data !== null) {\n      setInfo(data);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    getBorrowedBooks();\n  }, [getBorrowedBooks]);\n\n  return (\n    <div className=\"container mx-auto mt-3 py-1 shadow-inner\">\n      {info && info?.map((book) => (\n        <BorrowedBook\n          key={book.book.id}\n          book={book.book}\n          returnDate={book.returnDate}\n          date={book.date}\n          id={book.id}\n          onBookReturn={getBorrowedBooks}\n        />\n      ))}\n      {info && info?.length < 1 && <NoResults />}\n    </div>\n  );\n};\n\nexport default BorrowedBooksView;\n","import React from 'react';\nimport {\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { IProfile } from '../interfaces/IProfile.interface';\nimport { isAdmin, isLoggedIn } from './UserContext';\n\ninterface IPrivateRouteProps {\n  path: string;\n  exact: boolean;\n  user: IProfile | null;\n}\n\nexport const AdminRoute: React.FC<IPrivateRouteProps> = ({ path, exact, user, children }) => {\n    if (!user && isLoggedIn()) {\n      return <div>Loading...</div>;\n    }\n\n    return isAdmin(user) ? (<Route path={path} exact={exact}> {children} </Route>)\n    : (<Redirect to=\"/\" />);\n  };\n\nexport const UserRoute: React.FC<IPrivateRouteProps> = ({ path, exact, children }) => {\n  return isLoggedIn() ? (<Route path={path} exact={exact}> {children} </Route>)\n    : (<Redirect to=\"/\" />);\n};\n","import React from 'react';\nimport { useLocation } from 'react-router';\n\nconst NoMatch404 = () => {\n  const location = useLocation();\n\n  return (\n    <div className=\"flex flex-col items-center w-full\">\n      <h1 className=\"text-9xl tracking-wider\">404</h1>\n      <h3 className=\"text-3xl\">\n        No match for path: <code className=\"font-black\">{location.pathname}</code>\n      </h3>\n    </div>\n  );\n};\n\nexport default NoMatch404;\n","import React, { FC } from 'react';\n\ninterface IAvatarProps {\n    url: string\n    className: string\n}\n\nconst Avatar: FC<IAvatarProps> = ({ url, className }) => {\n    return (\n      <img\n        className={`w-32 h-32 rounded-full object-cover ${className}`}\n        src={url}\n        alt=\"User avatar\"\n      />\n    );\n};\n\nexport default Avatar;\n","import React, { FC, useEffect, useRef, useState } from 'react';\n// To jest nasze rozwiazanie - Cezary Bula 2021\n// eslint-disable-next-line\nimport FileType from 'file-type';\nimport supabase from '../../utils/supabase';\nimport { getUserAvatarURL, useUser } from '../UserContext';\nimport Avatar from '../Avatar';\nimport { errorToast, infoToast, successToast, warningToast } from '../../utils/utils';\nimport { IProfile } from '../../interfaces/IProfile.interface';\n\ninterface IEditUserComponentProps {\n  onAvatarChange: () => void;\n}\n\nconst EditUserComponent: FC<IEditUserComponentProps> = ({ onAvatarChange }) => {\n    const usr: IProfile | null = useUser();\n    const [fileInput] = useState(useRef<HTMLInputElement>(null));\n    const [avatarLink, setAvatarLink] = useState('');\n\n  useEffect(() => {\n    (async () => {\n      setAvatarLink(await getUserAvatarURL());\n    })();\n  }, []);\n\n  const onAvatarChangeWrapper = async () => {\n    onAvatarChange();\n    const avatarUrl = await getUserAvatarURL();\n    setAvatarLink(avatarUrl);\n  };\n\n  const upload = async (f: File | undefined) => {\n    if (f === undefined) {\n      errorToast('File not found', 'file-not-found');\n      return;\n    }\n    if (!usr || !usr.id) {\n      errorToast('Unknown user', 'unknown-user');\n      return;\n    }\n    // type checking\n    const type = await FileType.fromBuffer(await f.arrayBuffer());\n    if (type?.mime !== 'image/jpeg' && type?.mime !== 'image/png') {\n      errorToast('Invalid file type. Supported types: jpg, png.', 'invalid-file-type');\n      return;\n    }\n\n    infoToast('Uploading...', 'uploading');\n    await supabase\n      .storage.from('images')\n      .remove([`avatars/${usr?.id}`]);\n\n    supabase\n      .storage.from('images/avatars')\n      .upload(`${usr?.id}`, f)\n      .then(async (data) => {\n        if (data.error !== null) {\n          throw data.error;\n        }\n        successToast('Upload successful', 'upload-success');\n        setAvatarLink(await getUserAvatarURL());\n        onAvatarChangeWrapper();\n      }).catch((error) => {\n        errorToast(`Upload error (${JSON.stringify(error)})`, 'upload-error');\n      });\n  };\n\n  const onUploadAttempt = () => {\n    if (fileInput?.current?.files && fileInput?.current?.files.length > 0) {\n      upload(fileInput?.current?.files[0]);\n    } else {\n      warningToast('File not selected', 'file-not-selected');\n    }\n  };\n\n  const onDeleteButtonClick = () => {\n    supabase\n      .storage.from('images')\n      .remove([`avatars/${usr?.id}`])\n      .then(() => {\n        onAvatarChangeWrapper();\n        infoToast('Avatar has been successfully deleted', 'delete-avatar-success');\n      })\n      .catch((err) => {\n        errorToast(`An error occured when removing avatar: ${JSON.stringify(err)}`, 'delete-avatar-error');\n      });\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-2xl\">Change avatar</h1>\n      <div className=\"flex flex-wrap\">\n        <Avatar url={avatarLink} className=\"\" />\n        <div className=\"flex flex-col flex-wrap place-content-end m-2\">\n          <input type=\"file\" accept=\"image/jpeg, image/png\" onChange={onUploadAttempt} ref={fileInput} required />\n          <div className=\"mt-4\">\n            <button type=\"button\" className=\"btn-page\" onClick={onDeleteButtonClick}>Delete current avatar</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditUserComponent;\n","import { FC } from 'react';\nimport ChangeAvatarComponent from './ChangeAvatarComponent';\n\ninterface IEditUserComponentProps {\n  onAvatarChange: () => void;\n}\n\nconst EditUserComponent: FC<IEditUserComponentProps> = ({ onAvatarChange }) => {\n    return (\n      <div className=\"m-4\">\n        <ChangeAvatarComponent onAvatarChange={onAvatarChange} />\n      </div>\n    );\n};\n\nexport default EditUserComponent;\n","import React, { useEffect, useState } from 'react';\nimport Avatar from '../components/Avatar';\nimport EditUserComponent from '../components/userpage/EditUserComponent';\nimport { getUserAvatarURL, isAdmin, useUser } from '../components/UserContext';\nimport { IProfile } from '../interfaces/IProfile.interface';\nimport './UserpageView.css';\n\nconst UserpageView = () => {\n  const usr: IProfile | null = useUser();\n  const [avatarUrl, setAvatarLink] = useState('');\n  const styleBg = {\n    // eslint-disable-next-line max-len\n    backgroundImage: `url(${process.env.PUBLIC_URL}/userpage-background.jpg)`,\n  };\n\n  useEffect(() => {\n    (async () => setAvatarLink(await getUserAvatarURL()))();\n  }, []);\n\n  return (\n    <div className=\"container mx-auto mt-3\">\n      <div className=\"h-32 bg-gray-500 bg-no-repeat bg-center object-contain\" style={styleBg} />\n      <div className=\"mx-16 bg-white relative -top-4 z-30\">\n        <div className=\"shadow-md\">\n          <div className=\"flex flex-col md:flex-row\">\n            <div className=\"w-1/4 relative h-24\">\n              <Avatar url={avatarUrl} className=\"relative -top-16 left-2 shadow\" />\n            </div>\n            <div className=\"mt-2 w-1/2\">\n              <div className=\"flex uppercase\">\n                <div className=\"w-min md:mr-2 first-l\">{usr?.firstName}</div>\n                <div className=\"w-min first-l\">{usr?.lastName}</div>\n              </div>\n            </div>\n            <div className=\"text-gray-400 w-1/4 flex justify-end p-4\">\n              {isAdmin(useUser()) ? 'Administrator' : 'User'}\n            </div>\n          </div>\n          <div className=\"p-2\">\n            <EditUserComponent\n              onAvatarChange={async () => setAvatarLink(await getUserAvatarURL())}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserpageView;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport RegisterModal from '../RegisterModal';\nimport './HomepageGradientSection.css';\n\nconst HomepageGradientSection = () => {\n    const [registerModalShown, setRegisterModalShown] = useState(false);\n    const history = useHistory();\n\n    const onRegisterSuccess = () => {\n      history.push('/books-list');\n    };\n\n    return (\n      <section className=\"grid grid-cols-1 grid-rows-1 w-full home-dots-container h-40 mt-8\">\n        <div className=\"col-start-2 row-start-1 row-end-3 z-20 flex justify-center\">\n          <button\n            className=\"p-4 px-12 bg-white border border-gray-500\"\n            type=\"button\"\n            onClick={() => setRegisterModalShown(!registerModalShown)}\n          >\n            Join us!\n          </button>\n          {!registerModalShown ? <></>\n          : <RegisterModal onSuccess={() => onRegisterSuccess()} onVisibilityChange={() => setRegisterModalShown(!registerModalShown)} />}\n        </div>\n        <div className=\"col-start-1 row-start-2 row-end-4 col-span-full home-dots-gradient w-full bg-black\" />\n      </section>\n    );\n};\n\nexport default HomepageGradientSection;\n","import React, { FC } from 'react';\nimport './HomepageSection.css';\n\ninterface IHomepageSectionProps {\n    title: string;\n    content: string;\n    rightAligned: boolean;\n}\n\nconst HomepageSection: FC<IHomepageSectionProps> = ({ title, content, rightAligned = false }) => {\n  return (\n    <div className={`flex justify-between m-4 md:m-0 ${rightAligned ? 'md:mr-12 flex-row-reverse' : 'md:ml-12'}`}>\n      <div className={`homepage-textbox w-full lg:w-3/5 ${rightAligned ? 'self-end' : 'self-start'} \n      bg-white text-2xl shadow-md p-4 justify-self-start`}\n      >\n        <div className=\"h-full flex flex-col\">\n          <span className=\"text-3xl font-bold mb-4\">{title}</span>\n          <p className=\"text-justify\">\n            {content}\n          </p>\n        </div>\n      </div>\n      <img\n        src={`${process.env.PUBLIC_URL}/bubbles.svg`}\n        alt=\"Bubbles\"\n        className={`w-1/4 hidden md:block relative select-none\n        ${rightAligned ? '-left-6 homepage-bubble' : '-right-12'}`}\n      />\n    </div>\n  );\n};\n\nexport default HomepageSection;\n","import React from 'react';\nimport HomepageSection from './HomepageSection';\n\nconst HomepageInfoSections = () => {\n    const bgStyle = {\n        backgroundImage: `url(${process.env.PUBLIC_URL}/homepage-dotted-line.svg)`,\n    };\n\n    return (\n      <div className=\"lg:container flex flex-col gap-24 w-full\" style={bgStyle}>\n        <HomepageSection\n          title=\"Who are we?\"\n          content=\"We are a group of enthusiasts who love books! Have you ever had a problem, when you couldn&apos;t get your hands\n          on a rare book?\n          Or maybe you just don&apos;t feel like going the public library? That&apos;s when our site comes into play!\n          Simply by making an account you can get access to tons of great books. Just look if we have what interests you\n          in stock and borrow it!\"\n          rightAligned={false}\n        />\n        <HomepageSection\n          title=\"How does it work?\"\n          content=\"It&apos;s simple. You make an account, look for the book of your choice and borrow it! Then you get to keep it for\n          a month,\n          when the time passes you will need to return it.\"\n          rightAligned\n        />\n        <HomepageSection\n          title=\"How does it work?\"\n          content=\"It&apos;s simple. You make an account, look for the book of your choice and borrow it! Then you get to keep it for\n          a month, when the time passes you will need to return it.\"\n          rightAligned={false}\n        />\n      </div>\n    );\n};\n\nexport default HomepageInfoSections;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './HomepageLandingPage.css';\n\nconst HomepageLandingPage = () => {\n    return (\n      <section className=\"landing-container2 h-screen w-screen bg-gray-900\">\n        <div className=\"h-full w-full grid grid-rows-1 grid-cols-1 justify-center\">\n          <div className=\"row-start-1 col-start-1 flex justify-center\">\n            <img className=\"object-cover w-full h-full\" src={`${process.env.PUBLIC_URL}/homepage-landscape-bg.jpg`} alt=\"ok\" />\n          </div>\n          <div className=\"h-full w-full row-start-1 col-start-1 bg-opacity-60 bg-black\">\n            <div className=\"grid h-full w-full landing-page-container text-white\">\n              <nav className=\"col-span-full p-4 flex flex-col md:flex-row justify-between\">\n                <div className=\"landing-page-nav-item-container\">\n                  <span>\n                    <span className=\"flex flex-row items-center\">\n                      <span>Home</span>\n                    </span>\n                    <hr className=\"main-underline mt-2\" />\n                  </span>\n                </div>\n                <div className=\"landing-page-nav-item-container\">\n                  <Link to=\"/books-list\">\n                    <span>\n                      Check out the book list!\n                      <hr className=\"main-underline mt-2 ml-auto\" />\n                    </span>\n                  </Link>\n                </div>\n              </nav>\n              <div className=\"col-start-2 row-start-2 landing-page-grid-item-container\">\n                <hr className=\"main-underline\" />\n                <span className=\"text-3xl font-bold\">Library &quot;SIEMA&quot;</span>\n              </div>\n              <div className=\"col-start-2 row-start-3 landing-page-grid-item-container\">\n                <span className=\"text-3xl font-semibold\">Key features</span>\n              </div>\n              <div className=\"col-start-2 row-start-4 landing-page-grid-item-container\">\n                <span className=\"landing-page-our-features\">Quality</span>\n              </div>\n              <div className=\"col-start-1 row-start-4 landing-page-grid-item-container\">\n                <span className=\"landing-page-our-features\">Vast range of books</span>\n              </div>\n              <div className=\"col-start-3 row-start-4 landing-page-grid-item-container\">\n                <span className=\"landing-page-our-features\">Tradition</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n};\n\nexport default HomepageLandingPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Rating from './Rating';\n\nconst Slide = ({ id = '', title = '', author = '', image = '', votesAmount = 0, avgRating = 0 }) => {\n  return (\n    <Link to={`/book/${id}`} className=\"flex flex-col justify-center items-center text-center\">\n      <div className=\"gallery-tile\">\n        <img src={image} alt={title} className=\"gallery-img\" />\n      </div>\n      <div className=\"flex flex-col items-center h-auto\">\n        {title.length > 25 ? `${title.substr(0, 25).trim()}...` : title}\n        <br />\n        {author.length > 0 ? (\n          <span className=\"text-gray-500 text-sm\">{author.length > 20 ? `${author.substr(0, 20).trim()}...\\n` : `${author}\\n`}</span>\n        ) : (\n          <span className=\"text-gray-500 text-sm\">No author</span>\n        )}\n        <div className=\"w-32 h-16\">\n          <Rating bare votesAmount={votesAmount} avgRating={avgRating} />\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default Slide;\n","import { useState, useEffect, FC } from 'react';\nimport Slide from './Slide';\n\ninterface ISliderProps {\n  entryCount: number;\n  entries: {\n    id: string;\n    title: string;\n    authors: string[];\n    image: string;\n    votesAmount: number;\n    avgRating:number;\n  }[];\n}\n\nconst Slider: FC<ISliderProps> = ({ entryCount, entries }) => {\n  const [index, setIndex] = useState(0);\n  // eslint-disable-next-line\n  const [timer, setTimer] = useState<any>();\n  const delay = 2200;\n\n  useEffect(() => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    const newTimer = setTimeout(() => {\n      const changeIndex = () => {\n        if (index === entryCount - 1) return setIndex(0);\n        return setIndex((old) => old + 1);\n      };\n      changeIndex();\n    }, delay);\n    setTimer(newTimer);\n    // eslint-disable-next-line\n  }, [index]);\n\n  const changeSlide = (dir = 0) => {\n    const newIndex = index + dir;\n\n    if (newIndex >= entryCount) return setIndex(0);\n    if (newIndex <= -1) return setIndex(entryCount - 1);\n\n    return setIndex(newIndex);\n  };\n\n  return (\n    <div className=\"flex mt-2 ml-6\">\n      <div className=\"flex flex-col items-center bg-gray-50 shadow p-2\">\n        <Slide\n          id={entries[index]?.id}\n          title={entries[index]?.title}\n          author={entries[index]?.authors?.join(' ')}\n          image={entries[index]?.image}\n          votesAmount={entries[index]?.votesAmount}\n          avgRating={entries[index]?.avgRating}\n        />\n        <div className=\"flex flex-row\">\n          <button\n            className=\"btn-page px-2\"\n            type=\"button\"\n            onClick={() => changeSlide(-1)}\n          >\n            ⮜\n          </button>\n          <div className=\"w-80\" />\n          <button\n            className=\"btn-page px-2\"\n            type=\"button\"\n            onClick={() => changeSlide(1)}\n          >\n            ⮞\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Slider;\n","import React, { FC, useEffect, useState } from 'react';\nimport Slider from '../components/Slider';\nimport { IBook } from '../interfaces/IBook.interface';\nimport { ISupplierBook } from '../interfaces/ISupplierBook.interface';\nimport supabase from '../utils/supabase';\n\ninterface SliderDemoProps {\n  type: string;\n}\n\nconst SliderDemo: FC<SliderDemoProps> = ({ type }) => {\n  const [data, setData] = useState<IBook[] | null>([]);\n\n  useEffect(() => {\n    const getAllBooks = async () => {\n      if (type === 'top') {\n        const { data: books, error } = await supabase\n          .from<IBook>('books')\n          .select('*')\n          .order('avgRating', { ascending: false });\n        if (!error) {\n          setData(books);\n        } else {\n          // error\n        }\n      } else {\n        const { data: books, error } = await supabase\n          .from<IBook>('books')\n          .select('*');\n          if (!error) {\n            setData(books);\n          } else {\n            // error\n          }\n      }\n    };\n    getAllBooks();\n  }, [type]);\n\n  if (data) {\n    return (\n      <Slider\n        entries={data?.map((book: ISupplierBook) => {\n          return {\n            id: book.id,\n            title: book.title,\n            authors: book.authors,\n            image: book.imageLinks[0],\n            votesAmount: book.votesAmount,\n            avgRating: book.avgRating,\n          };\n        })}\n        // entryCount={data.length}\n        entryCount={10}\n      />\n    );\n  }\n  return <p>Loading...</p>;\n};\n\nexport default SliderDemo;\n","import React from 'react';\nimport SliderDemo from '../../views/SliderDemo';\n\nconst HomepageSliderSection = () => {\n    return (\n      <div className=\"flex w-full flex-row justify-evenly text-2xl p-4\">\n        <div className=\"flex-col items-center\">\n          Our top books:\n          <SliderDemo type=\"top\" />\n        </div>\n        <div id=\"spacer\" />\n        <div className=\"flex-col items-center\">\n          Some of our books:\n          <SliderDemo type=\"random\" />\n        </div>\n      </div>\n    );\n};\n\nexport default HomepageSliderSection;\n","import React from 'react';\nimport HomepageGradientSection from '../components/homepage/HomepageGradientSection';\nimport HomepageInfoSections from '../components/homepage/HomepageInfoSections';\nimport HomepageLandingPage from '../components/homepage/HomepageLandingPage';\nimport HomepageSliderSection from '../components/homepage/HomepageSliderSection';\n\nconst HomepageView = () => {\n  return (\n    <section className=\"bg-white homepage-container-section mx-auto flex flex-col items-center gap-2 overflow-hidden\">\n      <HomepageLandingPage />\n      <HomepageInfoSections />\n      <HomepageSliderSection />\n      <HomepageGradientSection />\n    </section>\n  );\n};\n\nexport default HomepageView;\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport BookListView from '../views/BookListView';\nimport Navigation from './Navigation';\nimport BookInfoPage from '../views/BookInfoView';\nimport BookListViewAdminOwned from '../views/BookListViewAdminOwned';\nimport BookListViewAdminStore from '../views/BookListViewAdminStore';\nimport BorrowedBooksView from '../views/BorrowedBooksView';\nimport {\n  AdminRoute,\n  UserRoute,\n} from './PrivateRoute';\nimport { useUser } from './UserContext';\nimport NoMatch404 from './NoMatch404';\nimport UserpageView from '../views/UserpageView';\nimport HomepageView from '../views/HomepageView';\n\nfunction AppRouter() {\n  const user = useUser();\n\n  return (\n    <div className=\"h-screen bg-gray-50\">\n      <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route path=\"/internships-2021\" exact>\n            <Redirect to=\"/\" />\n          </Route>\n          <Route path=\"/\" exact>\n            <HomepageView />\n          </Route>\n          <Route>\n            <header className=\"sticky top-0 w-full h-10 z-50\">\n              <Navigation />\n            </header>\n            <Switch>\n              <UserRoute path=\"/user\" exact user={user}>\n                <UserpageView />\n              </UserRoute>\n              <UserRoute path=\"/user/books\" exact user={user}>\n                <BorrowedBooksView />\n              </UserRoute>\n              <AdminRoute path=\"/admin/owned\" exact user={user}>\n                <BookListViewAdminOwned />\n              </AdminRoute>\n              <AdminRoute path=\"/admin/store\" exact user={user}>\n                <BookListViewAdminStore />\n              </AdminRoute>\n              <Route path=\"/books-list\" exact>\n                <Redirect to=\"/books-list/*/0\" />\n              </Route>\n              <Route path=\"/books-list/:q?/:rating?\">\n                <BookListView />\n              </Route>\n              <Route path=\"/book/:id\" exact>\n                <BookInfoPage />\n              </Route>\n              <Route path=\"*\">\n                <NoMatch404 />\n              </Route>\n            </Switch>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default AppRouter;\n","import { UserProvider } from './UserContext';\nimport AppRouter from './AppRouter';\n\nconst App = () => {\n  return (\n    <UserProvider>\n      <AppRouter />\n    </UserProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Slide, ToastContainer } from 'react-toastify';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ToastContainer\n      position=\"bottom-right\"\n      transition={Slide}\n      autoClose={6000}\n      hideProgressBar={false}\n      newestOnTop={false}\n      closeOnClick\n      rtl={false}\n      pauseOnFocusLoss\n      draggable\n      pauseOnHover\n    />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}